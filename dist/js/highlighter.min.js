(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _initiation = require('./structure/initiation.js');

var _initiation2 = _interopRequireDefault(_initiation);

var _highlighterActivation = require('./structure/highlighterActivation.js');

var _highlighterActivation2 = _interopRequireDefault(_highlighterActivation);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Highlighter = function ($) {

	function Highlighter(options) {
		this.options = options;
		_initiation2.default.initCanvasOnElement(this);
	}

	Highlighter.prototype.getElement = function () {
		return document.querySelector(this.options.element);
	};

	Highlighter.prototype.getCanvasElement = function () {
		return this.options.canvasElement;
	};

	Highlighter.prototype.getCanvasContainer = function () {
		return this.options.canvasContainer;
	};

	Highlighter.prototype.getWholeContainer = function () {
		return this.options.container ? document.querySelector(this.options.container) : document.querySelector('body');
	};

	Highlighter.prototype.getZIndex = function () {
		return this.options.index || '1';
	};

	Highlighter.prototype.getCalibarationLevel = function () {
		return this.options.calibarationLevel || 10;
	};

	Highlighter.prototype.getLanguage = function () {
		return this.options.lang || 'e';
	};

	Highlighter.prototype.getRadius = function () {
		return this.options.radius || 10;
	};

	Highlighter.prototype.getContext = function () {
		return this.getCanvasElement().getContext('2d');
	};

	Highlighter.prototype.getOpacity = function () {
		return this.options.opacity;
	};

	Highlighter.prototype.getColor = function () {
		return this.options.color || 'yellow';
	};

	Highlighter.prototype.activateHighlighter = function () {
		_highlighterActivation2.default.activate(this);
	};

	Highlighter.prototype.deactivateHighlighter = function () {
		_highlighterActivation2.default.deactivate(this);
	};

	window.Highlighter = Highlighter;

	return Highlighter;
}(jQuery);

},{"./structure/highlighterActivation.js":6,"./structure/initiation.js":7}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

// calibaration algorithms for x and Y positions of points
exports.default = function () {

	function calibarateX(clientX, parents, canvasContainer, calibarationLevel, lang) {
		var elementX = clientX;
		elementX = calibarateElementX(elementX, parents);
		elementX = calibarateScrollLeft(elementX, parents, canvasContainer);
		elementX = calibarateScaleX(elementX, canvasContainer, calibarationLevel, lang);
		return elementX;
	}

	function calibarateY(clientY, parents, canvasContainer, calibarationLevel, transformOriginY) {
		var elementY = clientY;
		elementY = calibarateElementY(elementY, parents);
		elementY = calibarateScrollTop(elementY, parents, canvasContainer);
		elementY = calibarateScaleY(elementY, canvasContainer, calibarationLevel, transformOriginY);
		return elementY;
	}

	// in case of absolute divs only - calculate left
	function calibarateElementX(clientX, parents) {
		var additions = 0;
		var accumOffsetLeft = 0;
		parents = parents.toArray().reverse();
		parents.forEach(function (element, number) {
			additions += element.getBoundingClientRect().left - accumOffsetLeft;
			accumOffsetLeft += element.getBoundingClientRect().left;
		});
		return clientX - additions;
	}

	// in case of absolute divs only - calculate top
	function calibarateElementY(clientY, parents) {
		var additions = 0;
		var accumOffsetTop = 0;
		parents = parents.toArray().reverse();
		parents.forEach(function (element, number) {
			additions += element.getBoundingClientRect().top - accumOffsetTop;
			accumOffsetTop += element.getBoundingClientRect().top;
			console.log(element, additions);
		});
		console.log('total', additions);
		return clientY - additions;
	}

	// calculate scroll left
	function calibarateScrollLeft(clientX, parents, container) {
		var initialWidth = container.offsetWidth;
		var scaledWidth = container.getBoundingClientRect().width;
		var widthDiff = scaledWidth - initialWidth;
		var scaleX = scaledWidth / initialWidth;
		scaleX = parseFloat(scaleX.toFixed(5));

		var additions = 0;
		parents.each(function (number, element) {
			if (element === container) {
				additions += element.scrollLeft + element.scrollLeft * (scaleX - 1);
			} else {
				additions += element.scrollLeft;
			}
		});
		return clientX + additions;
	}

	// calculate scroll top
	function calibarateScrollTop(clientY, parents, container) {
		var initialHeight = container.offsetHeight;
		var scaledHeight = container.getBoundingClientRect().height;
		var scaleY = scaledHeight / initialHeight;
		scaleY = parseFloat(scaleY.toFixed(5));

		var additions = 0;
		parents.each(function (number, element) {
			if (element === container) {
				additions += element.scrollTop + element.scrollTop * (scaleY - 1);
			} else {
				additions += element.scrollTop;
			}
		});
		return clientY + additions;
	}

	// calculate scale X
	function calibarateScaleX(clientX, container, calDegree, lang) {
		var initialWidth = container.offsetWidth;
		var scaledWidth = container.getBoundingClientRect().width;
		var widthDiff = scaledWidth - initialWidth;
		var scaleX = scaledWidth / initialWidth;
		scaleX = parseFloat(scaleX.toFixed(5));
		var calibaratedValue = 0;
		for (var calLevel = 0; calLevel <= calDegree; calLevel++) {
			calibaratedValue += clientX * Math.pow(1 - scaleX, calLevel);
		}

		if (lang === 'a') {
			// calibarate width
			for (var _calLevel = 0; _calLevel <= calDegree; _calLevel++) {
				calibaratedValue += widthDiff * Math.pow(1 - scaleX, _calLevel);
			}
			return calibaratedValue;
		}

		return calibaratedValue;
	}

	// calculate scale Y
	function calibarateScaleY(clientY, container, calDegree, transformOriginY) {
		var initialHeight = container.offsetHeight;
		var scaledHeight = container.getBoundingClientRect().height;
		transformOriginY = Number(transformOriginY);
		var transformOriginYCorrectionFactor = transformOriginY / (scaledHeight + transformOriginY);
		var scaleY = scaledHeight / initialHeight;
		scaleY = parseFloat(scaleY.toFixed(5));
		var calibaratedValue = 0;
		for (var calLevel = 0; calLevel <= calDegree; calLevel++) {
			calibaratedValue += clientY * Math.pow(1 - scaleY, calLevel);
		}
		for (var _calLevel2 = 1; _calLevel2 <= calDegree; _calLevel2++) {
			calibaratedValue -= transformOriginY * Math.pow(1 - scaleY, _calLevel2);
		}
		return calibaratedValue;
	}

	return {
		calibarateX: calibarateX,
		calibarateY: calibarateY
	};
}();

},{}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _functions = require("./functions.js");

var _functions2 = _interopRequireDefault(_functions);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// default canvas style
function initCanvasStyle(highlighter) {
	var context = highlighter.getContext();
	var radius = highlighter.getRadius();
	context.lineCap = "round";
	context.lineJoin = "round";
	context.globalCompositeOperation = "source-over";
	context.strokeStyle = highlighter.getColor();
	context.fillStyle = highlighter.getColor();
	context.lineWidth = radius * 2;
}

// Adjust canvas container position and dimensions with none scaled element
function canvasContainerAdjustDimensions(highlighter, canvasContainer, element) {
	var elementPositions = _functions2.default.getPosition(element);
	canvasContainer.style.width = element.getBoundingClientRect().width + 'px';
	canvasContainer.style.height = element.getBoundingClientRect().height + 'px';
	canvasContainer.style.position = 'absolute';
	canvasContainer.style.overflow = 'auto';
	canvasContainer.style.left = elementPositions.x + 'px';
	canvasContainer.style.top = elementPositions.y + 'px';
	canvasContainer.style.zIndex = highlighter.getZIndex();
	canvasContainer.style.pointerEvents = 'none';
	canvasContainer.style.opacity = highlighter.getOpacity();
	window.addEventListener("resize", adjustCanvasOnResize.bind(highlighter));
}

// element on resize
function adjustCanvasOnResize() {
	var canvasContainer = this.getCanvasContainer();
	var element = this.getElement();
	var elementPositions = _functions2.default.getPosition(element);
	canvasContainer.style.left = elementPositions.x + 'px';
	canvasContainer.style.top = elementPositions.y + 'px';
}

// Adjust canvas element dimensions
function canvasElementAdjustDimensions(canvasElement, element) {
	canvasElement.style.width = element.scrollWidth + 'px';
	canvasElement.style.display = 'block';
	canvasElement.width = element.scrollWidth;
	canvasElement.style.height = element.scrollHeight + 'px';
	canvasElement.height = element.scrollHeight;
}

function init(highlighter, canvasContainer, element, canvasElement) {
	canvasContainerAdjustDimensions(highlighter, canvasContainer, element);
	canvasElementAdjustDimensions(canvasElement, element);
	initCanvasStyle(highlighter);
}

exports.default = {
	init: init
};

},{"./functions.js":5}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _calibartion = require('./calibartion.js');

var _calibartion2 = _interopRequireDefault(_calibartion);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// put a point on canvas
function putPoint(highlighter, elementX, elementY) {
	var context = highlighter.getContext();
	var radius = highlighter.getRadius();
	context.beginPath();
	context.arc(elementX, elementY, radius, 0, Math.PI * 2);
	context.fill();
}

// start paint on canvas
function startDrawing(event) {
	var parents = $(event.target).parents();
	var container = event.target.parentNode;
	var elementX = event.touches ? event.touches[0].clientX : event.pageX;
	var elementY = event.touches ? event.touches[0].clientY : event.pageY;
	var transformOriginY = $(container).css('transform-origin').split(' ')[1];
	var calibarationLevel = this.getCalibarationLevel();
	var lang = this.getLanguage();
	var context = this.getContext();
	transformOriginY = transformOriginY.replace('px', '');

	elementX = _calibartion2.default.calibarateX(elementX, parents, container, calibarationLevel, lang);
	elementY = _calibartion2.default.calibarateY(elementY, parents, container, calibarationLevel, transformOriginY);

	putPoint(this, elementX, elementY);
	context.beginPath();
	context.moveTo(elementX, elementY);
}

// draw lines on canvas
function drawLine(event) {
	var parents = $(event.target).parents();
	var container = event.target.parentNode;
	var elementX = event.touches ? event.touches[0].clientX : event.pageX;
	var elementY = event.touches ? event.touches[0].clientY : event.pageY;
	var transformOriginY = $(container).css('transform-origin').split(' ')[1];
	var calibarationLevel = this.getCalibarationLevel();
	var lang = this.getLanguage();
	var context = this.getContext();
	transformOriginY = transformOriginY.replace('px', '');

	elementX = _calibartion2.default.calibarateX(elementX, parents, container, calibarationLevel, lang);
	elementY = _calibartion2.default.calibarateY(elementY, parents, container, calibarationLevel, transformOriginY);

	context.lineTo(elementX, elementY);
	context.stroke();
	putPoint(this, elementX, elementY);
	context.beginPath();
	context.moveTo(elementX, elementY);
}

exports.default = {
	putPoint: putPoint,
	startDrawing: startDrawing,
	drawLine: drawLine
};

},{"./calibartion.js":2}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
// get position of element
function getPos(el) {
	var elements = [];
	for (var lx = 0, ly = 0; el != null; lx += el.offsetLeft, ly += el.offsetTop, el = el.offsetParent) {
		elements.push(el);
	}
	return { x: lx, y: ly, elements: elements };
}

// Helper function to get an element's exact position
function getPosition(el) {
	var xPos = 0;
	var yPos = 0;

	while (el) {
		if (el.tagName == "BODY") {
			// deal with browser quirks with body/window/document and page scroll
			var xScroll = el.scrollLeft || document.documentElement.scrollLeft;
			var yScroll = el.scrollTop || document.documentElement.scrollTop;

			xPos += el.offsetLeft - xScroll + el.clientLeft;
			yPos += el.offsetTop - yScroll + el.clientTop;
		} else {
			// for all other non-BODY elements
			xPos += el.offsetLeft - el.scrollLeft + el.clientLeft;
			yPos += el.offsetTop - el.scrollTop + el.clientTop;
		}

		el = el.offsetParent;
	}
	return {
		x: xPos,
		y: yPos
	};
}

exports.default = {
	getPos: getPos,
	getPosition: getPosition
};

},{}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _scrollattach = require('./scrollattach.js');

var _scrollattach2 = _interopRequireDefault(_scrollattach);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function activate(highlighter) {
	var canvasContainer = highlighter.getCanvasContainer();
	canvasContainer.style.pointerEvents = 'auto';
	_scrollattach2.default.unhookCanvasFromElement();
	_scrollattach2.default.hookElementToCanvas();
}

function deactivate(highlighter) {
	var canvasContainer = highlighter.getCanvasContainer();
	canvasContainer.style.pointerEvents = 'none';
	_scrollattach2.default.hookCanvasToElement();
	_scrollattach2.default.unhookElementFromCanvas();
}

exports.default = {
	activate: activate,
	deactivate: deactivate
};

},{"./scrollattach.js":8}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _draw = require('./draw.js');

var _draw2 = _interopRequireDefault(_draw);

var _canvasstyledimension = require('./canvasstyledimension.js');

var _canvasstyledimension2 = _interopRequireDefault(_canvasstyledimension);

var _scrollattach = require('./scrollattach.js');

var _scrollattach2 = _interopRequireDefault(_scrollattach);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// initiate canvas on initiating highlighter object
function initCanvasOnElement(highlighter) {
	var wholeContainer = highlighter.getWholeContainer();
	var element = highlighter.getElement();
	var canvasElement = document.createElement('canvas');
	var canvasContainer = document.createElement('div');
	wholeContainer.style.position = wholeContainer.style.position != 'absolute' ? 'relative' : 'absolute';

	// add highlighter
	canvasContainer.appendChild(canvasElement);
	wholeContainer.appendChild(canvasContainer);
	highlighter.options.canvasContainer = canvasContainer;
	highlighter.options.canvasElement = canvasElement;

	// init canvas styles and dimensions
	_canvasstyledimension2.default.init(highlighter, canvasContainer, element, canvasElement);

	// bind canvas to element on scroll
	_scrollattach2.default.initVariables(highlighter);
	_scrollattach2.default.hookCanvasToElement();

	// start draw on canvas
	canvasElement.addEventListener('touchstart', _draw2.default.startDrawing.bind(highlighter), false);
	canvasElement.addEventListener('touchmove', _draw2.default.drawLine.bind(highlighter), false);
}

exports.default = {
	initCanvasOnElement: initCanvasOnElement
};

},{"./canvasstyledimension.js":3,"./draw.js":4,"./scrollattach.js":8}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
var element = void 0;
var canvasContainer = void 0;
//attach canvas to element
var attachCanvasToElement = void 0;
//attach element to canvas
var attachElementToCanvas = void 0;

function attachCanvasToElementEvent() {
	canvasContainer.scrollTop = element.scrollTop;
	canvasContainer.scrollLeft = element.scrollLeft;
}

function attachElementToCanvasEvent() {
	element.scrollTop = canvasContainer.scrollTop;
	element.scrollLeft = canvasContainer.scrollLeft;
}

function initVariables(highlighter) {
	attachCanvasToElement = attachCanvasToElementEvent.bind(highlighter);
	attachElementToCanvas = attachElementToCanvasEvent.bind(highlighter);
	canvasContainer = highlighter.getCanvasContainer();
	element = highlighter.getElement();
}

function hookCanvasToElement() {
	element.addEventListener('scroll', attachCanvasToElement);
}

function unhookCanvasFromElement() {
	element.removeEventListener('scroll', attachCanvasToElement);
}

function hookElementToCanvas() {
	canvasContainer.addEventListener('scroll', attachElementToCanvas);
}

function unhookElementFromCanvas() {
	canvasContainer.removeEventListener('scroll', attachElementToCanvas);
}

exports.default = {
	initVariables: initVariables,
	hookCanvasToElement: hookCanvasToElement,
	unhookCanvasFromElement: unhookCanvasFromElement,
	hookElementToCanvas: hookElementToCanvas,
	unhookElementFromCanvas: unhookElementFromCanvas
};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvaGlnaGxpZ2h0ZXIuanMiLCJzcmMvanMvc3RydWN0dXJlL2NhbGliYXJ0aW9uLmpzIiwic3JjL2pzL3N0cnVjdHVyZS9jYW52YXNzdHlsZWRpbWVuc2lvbi5qcyIsInNyYy9qcy9zdHJ1Y3R1cmUvZHJhdy5qcyIsInNyYy9qcy9zdHJ1Y3R1cmUvZnVuY3Rpb25zLmpzIiwic3JjL2pzL3N0cnVjdHVyZS9oaWdobGlnaHRlckFjdGl2YXRpb24uanMiLCJzcmMvanMvc3RydWN0dXJlL2luaXRpYXRpb24uanMiLCJzcmMvanMvc3RydWN0dXJlL3Njcm9sbGF0dGFjaC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBSSxjQUFlLFVBQVMsQ0FBVCxFQUFZOztBQUU5QixVQUFTLFdBQVQsQ0FBcUIsT0FBckIsRUFBOEI7QUFDN0IsT0FBSyxPQUFMLEdBQWUsT0FBZjtBQUNBLHVCQUFXLG1CQUFYLENBQStCLElBQS9CO0FBQ0E7O0FBRUQsYUFBWSxTQUFaLENBQXNCLFVBQXRCLEdBQW1DLFlBQVc7QUFDN0MsU0FBTyxTQUFTLGFBQVQsQ0FBdUIsS0FBSyxPQUFMLENBQWEsT0FBcEMsQ0FBUDtBQUNBLEVBRkQ7O0FBSUEsYUFBWSxTQUFaLENBQXNCLGdCQUF0QixHQUF5QyxZQUFXO0FBQ25ELFNBQU8sS0FBSyxPQUFMLENBQWEsYUFBcEI7QUFDQSxFQUZEOztBQUlBLGFBQVksU0FBWixDQUFzQixrQkFBdEIsR0FBMkMsWUFBVztBQUNyRCxTQUFPLEtBQUssT0FBTCxDQUFhLGVBQXBCO0FBQ0EsRUFGRDs7QUFJQSxhQUFZLFNBQVosQ0FBc0IsaUJBQXRCLEdBQTBDLFlBQVc7QUFDcEQsU0FBTyxLQUFLLE9BQUwsQ0FBYSxTQUFiLEdBQXlCLFNBQVMsYUFBVCxDQUF1QixLQUFLLE9B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OztrQkFFYztBQUNkLGdCQUFlLGFBREQ7QUFFZCxzQkFBcUIsbUJBRlA7QUFHZCwwQkFBeUIsdUJBSFg7QUFJZCxzQkFBcUIsbUJBSlA7QUFLZCwwQkFBeUI7QUFMWCxDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCBpbml0aWF0aW9uIGZyb20gJy4vc3RydWN0dXJlL2luaXRpYXRpb24uanMnO1xuaW1wb3J0IGhpZ2hsaWdodGVyQWN0aXZhdGlvbiBmcm9tICcuL3N0cnVjdHVyZS9oaWdobGlnaHRlckFjdGl2YXRpb24uanMnO1xuXG52YXIgSGlnaGxpZ2h0ZXIgPSAoZnVuY3Rpb24oJCkge1xuXG5cdGZ1bmN0aW9uIEhpZ2hsaWdodGVyKG9wdGlvbnMpIHtcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXHRcdGluaXRpYXRpb24uaW5pdENhbnZhc09uRWxlbWVudCh0aGlzKTtcblx0fVxuXG5cdEhpZ2hsaWdodGVyLnByb3RvdHlwZS5nZXRFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmVsZW1lbnQpO1xuXHR9O1xuXG5cdEhpZ2hsaWdodGVyLnByb3RvdHlwZS5nZXRDYW52YXNFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jYW52YXNFbGVtZW50O1xuXHR9O1xuXG5cdEhpZ2hsaWdodGVyLnByb3RvdHlwZS5nZXRDYW52YXNDb250YWluZXIgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmNhbnZhc0NvbnRhaW5lcjtcblx0fTtcblxuXHRIaWdobGlnaHRlci5wcm90b3R5cGUuZ2V0V2hvbGVDb250YWluZXIgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmNvbnRhaW5lciA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmNvbnRhaW5lcikgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG5cdH07XG5cblx0SGlnaGxpZ2h0ZXIucHJvdG90eXBlLmdldFpJbmRleCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuaW5kZXggfHwgJzEnO1xuXHR9O1xuXG5cdEhpZ2hsaWdodGVyLnByb3RvdHlwZS5nZXRDYWxpYmFyYXRpb25MZXZlbCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuY2FsaWJhcmF0aW9uTGV2ZWwgfHwgMTA7XG5cdH07XG5cblx0SGlnaGxpZ2h0ZXIucHJvdG90eXBlLmdldExhbmd1YWdlID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5sYW5nIHx8ICdlJztcblx0fTtcblxuXHRIaWdobGlnaHRlci5wcm90b3R5cGUuZ2V0UmFkaXVzID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5yYWRpdXMgfHwgMTA7XG5cdH07XG5cblx0SGlnaGxpZ2h0ZXIucHJvdG90eXBlLmdldENvbnRleHQgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRDYW52YXNFbGVtZW50KCkuZ2V0Q29udGV4dCgnMmQnKTtcblx0fTtcblxuXHRIaWdobGlnaHRlci5wcm90b3R5cGUuZ2V0T3BhY2l0eSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMub3BhY2l0eTtcblx0fTtcblxuXHRIaWdobGlnaHRlci5wcm90b3R5cGUuZ2V0Q29sb3IgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmNvbG9yIHx8ICd5ZWxsb3cnO1xuXHR9O1xuXG5cdEhpZ2hsaWdodGVyLnByb3RvdHlwZS5hY3RpdmF0ZUhpZ2hsaWdodGVyID0gZnVuY3Rpb24oKSB7XG5cdFx0aGlnaGxpZ2h0ZXJBY3RpdmF0aW9uLmFjdGl2YXRlKHRoaXMpO1xuXHR9O1xuXG5cdEhpZ2hsaWdodGVyLnByb3RvdHlwZS5kZWFjdGl2YXRlSGlnaGxpZ2h0ZXIgPSBmdW5jdGlvbigpIHtcblx0XHRoaWdobGlnaHRlckFjdGl2YXRpb24uZGVhY3RpdmF0ZSh0aGlzKTtcblx0fTtcblxuXHR3aW5kb3cuSGlnaGxpZ2h0ZXIgPSBIaWdobGlnaHRlcjtcblxuXHRyZXR1cm4gSGlnaGxpZ2h0ZXI7XG5cbn0pKGpRdWVyeSk7IiwiLy8gY2FsaWJhcmF0aW9uIGFsZ29yaXRobXMgZm9yIHggYW5kIFkgcG9zaXRpb25zIG9mIHBvaW50c1xuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uKCkge1xuXG5cdGZ1bmN0aW9uIGNhbGliYXJhdGVYKGNsaWVudFgsIHBhcmVudHMsIGNhbnZhc0NvbnRhaW5lciwgY2FsaWJhcmF0aW9uTGV2ZWwsIGxhbmcpIHtcblx0XHR2YXIgZWxlbWVudFggPSBjbGllbnRYO1xuXHRcdGVsZW1lbnRYID0gY2FsaWJhcmF0ZUVsZW1lbnRYKGVsZW1lbnRYLCBwYXJlbnRzKTtcblx0XHRlbGVtZW50WCA9IGNhbGliYXJhdGVTY3JvbGxMZWZ0KGVsZW1lbnRYLCBwYXJlbnRzLCBjYW52YXNDb250YWluZXIpO1xuXHRcdGVsZW1lbnRYID0gY2FsaWJhcmF0ZVNjYWxlWChlbGVtZW50WCwgY2FudmFzQ29udGFpbmVyLCBjYWxpYmFyYXRpb25MZXZlbCwgbGFuZyk7XG5cdFx0cmV0dXJuIGVsZW1lbnRYO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2FsaWJhcmF0ZVkoY2xpZW50WSwgcGFyZW50cywgY2FudmFzQ29udGFpbmVyLCBjYWxpYmFyYXRpb25MZXZlbCwgdHJhbnNmb3JtT3JpZ2luWSkge1xuXHRcdHZhciBlbGVtZW50WSA9IGNsaWVudFk7XG5cdFx0ZWxlbWVudFkgPSBjYWxpYmFyYXRlRWxlbWVudFkoZWxlbWVudFksIHBhcmVudHMpO1xuXHRcdGVsZW1lbnRZID0gY2FsaWJhcmF0ZVNjcm9sbFRvcChlbGVtZW50WSwgcGFyZW50cywgY2FudmFzQ29udGFpbmVyKTtcblx0XHRlbGVtZW50WSA9IGNhbGliYXJhdGVTY2FsZVkoZWxlbWVudFksIGNhbnZhc0NvbnRhaW5lciwgY2FsaWJhcmF0aW9uTGV2ZWwsIHRyYW5zZm9ybU9yaWdpblkpO1xuXHRcdHJldHVybiBlbGVtZW50WTtcblx0fVxuXG5cdC8vIGluIGNhc2Ugb2YgYWJzb2x1dGUgZGl2cyBvbmx5IC0gY2FsY3VsYXRlIGxlZnRcblx0ZnVuY3Rpb24gY2FsaWJhcmF0ZUVsZW1lbnRYKGNsaWVudFgsIHBhcmVudHMpIHtcblx0XHR2YXIgYWRkaXRpb25zID0gMDtcblx0XHRsZXQgYWNjdW1PZmZzZXRMZWZ0ID0gMDtcblx0XHRwYXJlbnRzID0gcGFyZW50cy50b0FycmF5KCkucmV2ZXJzZSgpO1xuXHRcdHBhcmVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50LCBudW1iZXIpIHtcblx0XHRcdGFkZGl0aW9ucyArPSAoZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC0gYWNjdW1PZmZzZXRMZWZ0KTtcblx0XHRcdGFjY3VtT2Zmc2V0TGVmdCArPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIGNsaWVudFggLSBhZGRpdGlvbnM7XG5cdH1cblxuXHQvLyBpbiBjYXNlIG9mIGFic29sdXRlIGRpdnMgb25seSAtIGNhbGN1bGF0ZSB0b3Bcblx0ZnVuY3Rpb24gY2FsaWJhcmF0ZUVsZW1lbnRZKGNsaWVudFksIHBhcmVudHMpIHtcblx0XHR2YXIgYWRkaXRpb25zID0gMDtcblx0XHRsZXQgYWNjdW1PZmZzZXRUb3AgPSAwO1xuXHRcdHBhcmVudHMgPSBwYXJlbnRzLnRvQXJyYXkoKS5yZXZlcnNlKCk7XG5cdFx0cGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQsIG51bWJlcikge1xuXHRcdFx0YWRkaXRpb25zICs9IChlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIGFjY3VtT2Zmc2V0VG9wKTtcblx0XHRcdGFjY3VtT2Zmc2V0VG9wICs9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuXHRcdFx0Y29uc29sZS5sb2coZWxlbWVudCwgYWRkaXRpb25zKTtcblx0XHR9KTtcblx0XHRjb25zb2xlLmxvZygndG90YWwnLCBhZGRpdGlvbnMpO1xuXHRcdHJldHVybiBjbGllbnRZIC0gYWRkaXRpb25zO1xuXHR9XG5cblx0Ly8gY2FsY3VsYXRlIHNjcm9sbCBsZWZ0XG5cdGZ1bmN0aW9uIGNhbGliYXJhdGVTY3JvbGxMZWZ0KGNsaWVudFgsIHBhcmVudHMsIGNvbnRhaW5lcikge1xuXHRcdHZhciBpbml0aWFsV2lkdGggPSBjb250YWluZXIub2Zmc2V0V2lkdGg7XG5cdFx0dmFyIHNjYWxlZFdpZHRoID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuXHRcdHZhciB3aWR0aERpZmYgPSBzY2FsZWRXaWR0aCAtIGluaXRpYWxXaWR0aDtcblx0XHR2YXIgc2NhbGVYID0gc2NhbGVkV2lkdGggLyBpbml0aWFsV2lkdGg7XG5cdFx0c2NhbGVYID0gcGFyc2VGbG9hdChzY2FsZVgudG9GaXhlZCg1KSk7XG5cblx0XHR2YXIgYWRkaXRpb25zID0gMDtcblx0XHRwYXJlbnRzLmVhY2goZnVuY3Rpb24obnVtYmVyLCBlbGVtZW50KSB7XG5cdFx0XHRpZiAoZWxlbWVudCA9PT0gY29udGFpbmVyKSB7XG5cdFx0XHRcdGFkZGl0aW9ucyArPSBlbGVtZW50LnNjcm9sbExlZnQgKyBlbGVtZW50LnNjcm9sbExlZnQgKiAoc2NhbGVYIC0gMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRhZGRpdGlvbnMgKz0gZWxlbWVudC5zY3JvbGxMZWZ0O1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHJldHVybiBjbGllbnRYICsgYWRkaXRpb25zO1xuXHR9XG5cblx0Ly8gY2FsY3VsYXRlIHNjcm9sbCB0b3Bcblx0ZnVuY3Rpb24gY2FsaWJhcmF0ZVNjcm9sbFRvcChjbGllbnRZLCBwYXJlbnRzLCBjb250YWluZXIpIHtcblx0XHR2YXIgaW5pdGlhbEhlaWdodCA9IGNvbnRhaW5lci5vZmZzZXRIZWlnaHQ7XG5cdFx0dmFyIHNjYWxlZEhlaWdodCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG5cdFx0dmFyIHNjYWxlWSA9IHNjYWxlZEhlaWdodCAvIGluaXRpYWxIZWlnaHQ7XG5cdFx0c2NhbGVZID0gcGFyc2VGbG9hdChzY2FsZVkudG9GaXhlZCg1KSk7XG5cblx0XHR2YXIgYWRkaXRpb25zID0gMDtcblx0XHRwYXJlbnRzLmVhY2goZnVuY3Rpb24obnVtYmVyLCBlbGVtZW50KSB7XG5cdFx0XHRpZiAoZWxlbWVudCA9PT0gY29udGFpbmVyKSB7XG5cdFx0XHRcdGFkZGl0aW9ucyArPSBlbGVtZW50LnNjcm9sbFRvcCArIGVsZW1lbnQuc2Nyb2xsVG9wICogKHNjYWxlWSAtIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YWRkaXRpb25zICs9IGVsZW1lbnQuc2Nyb2xsVG9wO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHJldHVybiBjbGllbnRZICsgYWRkaXRpb25zO1xuXHR9XG5cblx0Ly8gY2FsY3VsYXRlIHNjYWxlIFhcblx0ZnVuY3Rpb24gY2FsaWJhcmF0ZVNjYWxlWChjbGllbnRYLCBjb250YWluZXIsIGNhbERlZ3JlZSwgbGFuZykge1xuXHRcdHZhciBpbml0aWFsV2lkdGggPSBjb250YWluZXIub2Zmc2V0V2lkdGg7XG5cdFx0dmFyIHNjYWxlZFdpZHRoID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuXHRcdHZhciB3aWR0aERpZmYgPSBzY2FsZWRXaWR0aCAtIGluaXRpYWxXaWR0aDtcblx0XHR2YXIgc2NhbGVYID0gc2NhbGVkV2lkdGggLyBpbml0aWFsV2lkdGg7XG5cdFx0c2NhbGVYID0gcGFyc2VGbG9hdChzY2FsZVgudG9GaXhlZCg1KSk7XG5cdFx0dmFyIGNhbGliYXJhdGVkVmFsdWUgPSAwO1xuXHRcdGZvciAodmFyIGNhbExldmVsID0gMDsgY2FsTGV2ZWwgPD0gY2FsRGVncmVlOyBjYWxMZXZlbCsrKSB7XG5cdFx0XHRjYWxpYmFyYXRlZFZhbHVlICs9IGNsaWVudFggKiBNYXRoLnBvdygxIC0gc2NhbGVYLCBjYWxMZXZlbCk7XG5cdFx0fVxuXG5cdFx0aWYgKGxhbmcgPT09ICdhJykge1xuXHRcdFx0Ly8gY2FsaWJhcmF0ZSB3aWR0aFxuXHRcdFx0Zm9yICh2YXIgX2NhbExldmVsID0gMDsgX2NhbExldmVsIDw9IGNhbERlZ3JlZTsgX2NhbExldmVsKyspIHtcblx0XHRcdFx0Y2FsaWJhcmF0ZWRWYWx1ZSArPSB3aWR0aERpZmYgKiBNYXRoLnBvdygxIC0gc2NhbGVYLCBfY2FsTGV2ZWwpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGNhbGliYXJhdGVkVmFsdWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNhbGliYXJhdGVkVmFsdWU7XG5cdH1cblxuXHQvLyBjYWxjdWxhdGUgc2NhbGUgWVxuXHRmdW5jdGlvbiBjYWxpYmFyYXRlU2NhbGVZKGNsaWVudFksIGNvbnRhaW5lciwgY2FsRGVncmVlLCB0cmFuc2Zvcm1PcmlnaW5ZKSB7XG5cdFx0dmFyIGluaXRpYWxIZWlnaHQgPSBjb250YWluZXIub2Zmc2V0SGVpZ2h0O1xuXHRcdHZhciBzY2FsZWRIZWlnaHQgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuXHRcdHRyYW5zZm9ybU9yaWdpblkgPSBOdW1iZXIodHJhbnNmb3JtT3JpZ2luWSk7XG5cdFx0dmFyIHRyYW5zZm9ybU9yaWdpbllDb3JyZWN0aW9uRmFjdG9yID0gdHJhbnNmb3JtT3JpZ2luWSAvIChzY2FsZWRIZWlnaHQgKyB0cmFuc2Zvcm1PcmlnaW5ZKTtcblx0XHR2YXIgc2NhbGVZID0gc2NhbGVkSGVpZ2h0IC8gaW5pdGlhbEhlaWdodDtcblx0XHRzY2FsZVkgPSBwYXJzZUZsb2F0KHNjYWxlWS50b0ZpeGVkKDUpKTtcblx0XHR2YXIgY2FsaWJhcmF0ZWRWYWx1ZSA9IDA7XG5cdFx0Zm9yICh2YXIgY2FsTGV2ZWwgPSAwOyBjYWxMZXZlbCA8PSBjYWxEZWdyZWU7IGNhbExldmVsKyspIHtcblx0XHRcdGNhbGliYXJhdGVkVmFsdWUgKz0gY2xpZW50WSAqIE1hdGgucG93KDEgLSBzY2FsZVksIGNhbExldmVsKTtcblx0XHR9XG5cdFx0Zm9yICh2YXIgX2NhbExldmVsMiA9IDE7IF9jYWxMZXZlbDIgPD0gY2FsRGVncmVlOyBfY2FsTGV2ZWwyKyspIHtcblx0XHRcdGNhbGliYXJhdGVkVmFsdWUgLT0gdHJhbnNmb3JtT3JpZ2luWSAqIE1hdGgucG93KDEgLSBzY2FsZVksIF9jYWxMZXZlbDIpO1xuXHRcdH1cblx0XHRyZXR1cm4gY2FsaWJhcmF0ZWRWYWx1ZTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0Y2FsaWJhcmF0ZVg6IGNhbGliYXJhdGVYLFxuXHRcdGNhbGliYXJhdGVZOiBjYWxpYmFyYXRlWVxuXHR9XG5cbn0oKSk7XG4iLCJpbXBvcnQgZnVuY3Rpb25zIGZyb20gJy4vZnVuY3Rpb25zLmpzJztcblxuLy8gZGVmYXVsdCBjYW52YXMgc3R5bGVcbmZ1bmN0aW9uIGluaXRDYW52YXNTdHlsZShoaWdobGlnaHRlcil7XG5cdGxldCBjb250ZXh0ID0gaGlnaGxpZ2h0ZXIuZ2V0Q29udGV4dCgpO1xuXHRsZXQgcmFkaXVzID0gaGlnaGxpZ2h0ZXIuZ2V0UmFkaXVzKCk7XG5cdGNvbnRleHQubGluZUNhcCA9IFwicm91bmRcIjtcblx0Y29udGV4dC5saW5lSm9pbiA9IFwicm91bmRcIjtcblx0Y29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1vdmVyXCI7XG5cdGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBoaWdobGlnaHRlci5nZXRDb2xvcigpO1xuXHRjb250ZXh0LmZpbGxTdHlsZSA9IGhpZ2hsaWdodGVyLmdldENvbG9yKCk7XG5cdGNvbnRleHQubGluZVdpZHRoID0gcmFkaXVzICogMjtcbn1cblxuLy8gQWRqdXN0IGNhbnZhcyBjb250YWluZXIgcG9zaXRpb24gYW5kIGRpbWVuc2lvbnMgd2l0aCBub25lIHNjYWxlZCBlbGVtZW50XG5mdW5jdGlvbiBjYW52YXNDb250YWluZXJBZGp1c3REaW1lbnNpb25zKGhpZ2hsaWdodGVyLCBjYW52YXNDb250YWluZXIsIGVsZW1lbnQpIHtcblx0bGV0IGVsZW1lbnRQb3NpdGlvbnMgPSBmdW5jdGlvbnMuZ2V0UG9zaXRpb24oZWxlbWVudCk7XG5cdGNhbnZhc0NvbnRhaW5lci5zdHlsZS53aWR0aCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAncHgnO1xuXHRjYW52YXNDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgKyAncHgnO1xuXHRjYW52YXNDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRjYW52YXNDb250YWluZXIuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG5cdGNhbnZhc0NvbnRhaW5lci5zdHlsZS5sZWZ0ID0gZWxlbWVudFBvc2l0aW9ucy54ICsgJ3B4Jztcblx0Y2FudmFzQ29udGFpbmVyLnN0eWxlLnRvcCA9IGVsZW1lbnRQb3NpdGlvbnMueSArICdweCc7XG5cdGNhbnZhc0NvbnRhaW5lci5zdHlsZS56SW5kZXggPSBoaWdobGlnaHRlci5nZXRaSW5kZXgoKTtcblx0Y2FudmFzQ29udGFpbmVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG5cdGNhbnZhc0NvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gaGlnaGxpZ2h0ZXIuZ2V0T3BhY2l0eSgpO1xuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBhZGp1c3RDYW52YXNPblJlc2l6ZS5iaW5kKGhpZ2hsaWdodGVyKSk7XG59XG5cbi8vIGVsZW1lbnQgb24gcmVzaXplXG5mdW5jdGlvbiBhZGp1c3RDYW52YXNPblJlc2l6ZSgpe1xuXHRsZXQgY2FudmFzQ29udGFpbmVyID0gdGhpcy5nZXRDYW52YXNDb250YWluZXIoKTtcblx0bGV0IGVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnQoKTtcblx0bGV0IGVsZW1lbnRQb3NpdGlvbnMgPSBmdW5jdGlvbnMuZ2V0UG9zaXRpb24oZWxlbWVudCk7XG5cdGNhbnZhc0NvbnRhaW5lci5zdHlsZS5sZWZ0ID0gZWxlbWVudFBvc2l0aW9ucy54ICsgJ3B4Jztcblx0Y2FudmFzQ29udGFpbmVyLnN0eWxlLnRvcCA9IGVsZW1lbnRQb3NpdGlvbnMueSArICdweCc7XG59XG5cbi8vIEFkanVzdCBjYW52YXMgZWxlbWVudCBkaW1lbnNpb25zXG5mdW5jdGlvbiBjYW52YXNFbGVtZW50QWRqdXN0RGltZW5zaW9ucyhjYW52YXNFbGVtZW50LCBlbGVtZW50KSB7XG5cdGNhbnZhc0VsZW1lbnQuc3R5bGUud2lkdGggPSBlbGVtZW50LnNjcm9sbFdpZHRoICsgJ3B4Jztcblx0Y2FudmFzRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblx0Y2FudmFzRWxlbWVudC53aWR0aCA9IGVsZW1lbnQuc2Nyb2xsV2lkdGg7XG5cdGNhbnZhc0VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gZWxlbWVudC5zY3JvbGxIZWlnaHQgKyAncHgnO1xuXHRjYW52YXNFbGVtZW50LmhlaWdodCA9IGVsZW1lbnQuc2Nyb2xsSGVpZ2h0O1xufVxuXG5mdW5jdGlvbiBpbml0KGhpZ2hsaWdodGVyLCBjYW52YXNDb250YWluZXIsIGVsZW1lbnQsIGNhbnZhc0VsZW1lbnQpe1xuXHRjYW52YXNDb250YWluZXJBZGp1c3REaW1lbnNpb25zKGhpZ2hsaWdodGVyLCBjYW52YXNDb250YWluZXIsIGVsZW1lbnQpO1xuXHRjYW52YXNFbGVtZW50QWRqdXN0RGltZW5zaW9ucyhjYW52YXNFbGVtZW50LCBlbGVtZW50KTtcblx0aW5pdENhbnZhc1N0eWxlKGhpZ2hsaWdodGVyKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuXHRpbml0OiBpbml0XG59IiwiaW1wb3J0IGNhbGliYXJ0aW9uIGZyb20gJy4vY2FsaWJhcnRpb24uanMnO1xuXG4vLyBwdXQgYSBwb2ludCBvbiBjYW52YXNcbmZ1bmN0aW9uIHB1dFBvaW50KGhpZ2hsaWdodGVyLCBlbGVtZW50WCwgZWxlbWVudFkpIHtcblx0dmFyIGNvbnRleHQgPSBoaWdobGlnaHRlci5nZXRDb250ZXh0KCk7XG5cdHZhciByYWRpdXMgPSBoaWdobGlnaHRlci5nZXRSYWRpdXMoKTtcblx0Y29udGV4dC5iZWdpblBhdGgoKTtcblx0Y29udGV4dC5hcmMoZWxlbWVudFgsIGVsZW1lbnRZLCByYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcblx0Y29udGV4dC5maWxsKCk7XG59XG5cbi8vIHN0YXJ0IHBhaW50IG9uIGNhbnZhc1xuZnVuY3Rpb24gc3RhcnREcmF3aW5nKGV2ZW50KSB7XG5cdHZhciBwYXJlbnRzID0gJChldmVudC50YXJnZXQpLnBhcmVudHMoKTtcblx0dmFyIGNvbnRhaW5lciA9IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlO1xuXHR2YXIgZWxlbWVudFggPSBldmVudC50b3VjaGVzID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZlbnQucGFnZVg7XG5cdHZhciBlbGVtZW50WSA9IGV2ZW50LnRvdWNoZXMgPyBldmVudC50b3VjaGVzWzBdLmNsaWVudFkgOiBldmVudC5wYWdlWTtcblx0dmFyIHRyYW5zZm9ybU9yaWdpblkgPSAkKGNvbnRhaW5lcikuY3NzKCd0cmFuc2Zvcm0tb3JpZ2luJykuc3BsaXQoJyAnKVsxXTtcblx0dmFyIGNhbGliYXJhdGlvbkxldmVsID0gdGhpcy5nZXRDYWxpYmFyYXRpb25MZXZlbCgpO1xuXHR2YXIgbGFuZyA9IHRoaXMuZ2V0TGFuZ3VhZ2UoKTtcblx0dmFyIGNvbnRleHQgPSB0aGlzLmdldENvbnRleHQoKTtcblx0dHJhbnNmb3JtT3JpZ2luWSA9IHRyYW5zZm9ybU9yaWdpblkucmVwbGFjZSgncHgnLCAnJyk7XG5cblx0ZWxlbWVudFggPSBjYWxpYmFydGlvbi5jYWxpYmFyYXRlWChlbGVtZW50WCwgcGFyZW50cywgY29udGFpbmVyLCBjYWxpYmFyYXRpb25MZXZlbCwgbGFuZyk7XG5cdGVsZW1lbnRZID0gY2FsaWJhcnRpb24uY2FsaWJhcmF0ZVkoZWxlbWVudFksIHBhcmVudHMsIGNvbnRhaW5lciwgY2FsaWJhcmF0aW9uTGV2ZWwsIHRyYW5zZm9ybU9yaWdpblkpO1xuXG5cdHB1dFBvaW50KHRoaXMsIGVsZW1lbnRYLCBlbGVtZW50WSk7XG5cdGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cdGNvbnRleHQubW92ZVRvKGVsZW1lbnRYLCBlbGVtZW50WSk7XG59XG5cbi8vIGRyYXcgbGluZXMgb24gY2FudmFzXG5mdW5jdGlvbiBkcmF3TGluZShldmVudCkge1xuXHR2YXIgcGFyZW50cyA9ICQoZXZlbnQudGFyZ2V0KS5wYXJlbnRzKCk7XG5cdHZhciBjb250YWluZXIgPSBldmVudC50YXJnZXQucGFyZW50Tm9kZTtcblx0dmFyIGVsZW1lbnRYID0gZXZlbnQudG91Y2hlcyA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2ZW50LnBhZ2VYO1xuXHR2YXIgZWxlbWVudFkgPSBldmVudC50b3VjaGVzID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZlbnQucGFnZVk7XG5cdHZhciB0cmFuc2Zvcm1PcmlnaW5ZID0gJChjb250YWluZXIpLmNzcygndHJhbnNmb3JtLW9yaWdpbicpLnNwbGl0KCcgJylbMV07XG5cdHZhciBjYWxpYmFyYXRpb25MZXZlbCA9IHRoaXMuZ2V0Q2FsaWJhcmF0aW9uTGV2ZWwoKTtcblx0dmFyIGxhbmcgPSB0aGlzLmdldExhbmd1YWdlKCk7XG5cdHZhciBjb250ZXh0ID0gdGhpcy5nZXRDb250ZXh0KCk7XG5cdHRyYW5zZm9ybU9yaWdpblkgPSB0cmFuc2Zvcm1PcmlnaW5ZLnJlcGxhY2UoJ3B4JywgJycpO1xuXG5cdGVsZW1lbnRYID0gY2FsaWJhcnRpb24uY2FsaWJhcmF0ZVgoZWxlbWVudFgsIHBhcmVudHMsIGNvbnRhaW5lciwgY2FsaWJhcmF0aW9uTGV2ZWwsIGxhbmcpO1xuXHRlbGVtZW50WSA9IGNhbGliYXJ0aW9uLmNhbGliYXJhdGVZKGVsZW1lbnRZLCBwYXJlbnRzLCBjb250YWluZXIsIGNhbGliYXJhdGlvbkxldmVsLCB0cmFuc2Zvcm1PcmlnaW5ZKTtcblxuXHRjb250ZXh0LmxpbmVUbyhlbGVtZW50WCwgZWxlbWVudFkpO1xuXHRjb250ZXh0LnN0cm9rZSgpO1xuXHRwdXRQb2ludCh0aGlzLCBlbGVtZW50WCwgZWxlbWVudFkpO1xuXHRjb250ZXh0LmJlZ2luUGF0aCgpO1xuXHRjb250ZXh0Lm1vdmVUbyhlbGVtZW50WCwgZWxlbWVudFkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG5cdHB1dFBvaW50OiBwdXRQb2ludCxcblx0c3RhcnREcmF3aW5nOiBzdGFydERyYXdpbmcsXG5cdGRyYXdMaW5lOiBkcmF3TGluZVxufSIsIi8vIGdldCBwb3NpdGlvbiBvZiBlbGVtZW50XG5mdW5jdGlvbiBnZXRQb3MoZWwpIHtcblx0bGV0IGVsZW1lbnRzID0gW107XG5cdGZvciAodmFyIGx4ID0gMCwgbHkgPSAwOyBlbCAhPSBudWxsOyBseCArPSBlbC5vZmZzZXRMZWZ0LCBseSArPSBlbC5vZmZzZXRUb3AsIGVsID0gZWwub2Zmc2V0UGFyZW50KXtcblx0XHRlbGVtZW50cy5wdXNoKGVsKTtcblx0fVxuXHRyZXR1cm4geyB4OiBseCwgeTogbHksIGVsZW1lbnRzOiBlbGVtZW50cyB9O1xufVxuXG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgYW4gZWxlbWVudCdzIGV4YWN0IHBvc2l0aW9uXG5mdW5jdGlvbiBnZXRQb3NpdGlvbihlbCkge1xuXHR2YXIgeFBvcyA9IDA7XG5cdHZhciB5UG9zID0gMDtcblxuXHR3aGlsZSAoZWwpIHtcblx0XHRpZiAoZWwudGFnTmFtZSA9PSBcIkJPRFlcIikge1xuXHRcdFx0Ly8gZGVhbCB3aXRoIGJyb3dzZXIgcXVpcmtzIHdpdGggYm9keS93aW5kb3cvZG9jdW1lbnQgYW5kIHBhZ2Ugc2Nyb2xsXG5cdFx0XHR2YXIgeFNjcm9sbCA9IGVsLnNjcm9sbExlZnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG5cdFx0XHR2YXIgeVNjcm9sbCA9IGVsLnNjcm9sbFRvcCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuXG5cdFx0XHR4UG9zICs9IChlbC5vZmZzZXRMZWZ0IC0geFNjcm9sbCArIGVsLmNsaWVudExlZnQpO1xuXHRcdFx0eVBvcyArPSAoZWwub2Zmc2V0VG9wIC0geVNjcm9sbCArIGVsLmNsaWVudFRvcCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGZvciBhbGwgb3RoZXIgbm9uLUJPRFkgZWxlbWVudHNcblx0XHRcdHhQb3MgKz0gKGVsLm9mZnNldExlZnQgLSBlbC5zY3JvbGxMZWZ0ICsgZWwuY2xpZW50TGVmdCk7XG5cdFx0XHR5UG9zICs9IChlbC5vZmZzZXRUb3AgLSBlbC5zY3JvbGxUb3AgKyBlbC5jbGllbnRUb3ApO1xuXHRcdH1cblxuXHRcdGVsID0gZWwub2Zmc2V0UGFyZW50O1xuXHR9XG5cdHJldHVybiB7XG5cdFx0eDogeFBvcyxcblx0XHR5OiB5UG9zXG5cdH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcblx0Z2V0UG9zOiBnZXRQb3MsXG5cdGdldFBvc2l0aW9uOiBnZXRQb3NpdGlvblxufSIsImltcG9ydCBzY3JvbGxhdHRhY2ggZnJvbSAnLi9zY3JvbGxhdHRhY2guanMnO1xuXG5mdW5jdGlvbiBhY3RpdmF0ZShoaWdobGlnaHRlcil7XG5cdGxldCBjYW52YXNDb250YWluZXIgPSBoaWdobGlnaHRlci5nZXRDYW52YXNDb250YWluZXIoKTtcblx0Y2FudmFzQ29udGFpbmVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG5cdHNjcm9sbGF0dGFjaC51bmhvb2tDYW52YXNGcm9tRWxlbWVudCgpO1xuXHRzY3JvbGxhdHRhY2guaG9va0VsZW1lbnRUb0NhbnZhcygpO1xufVxuXG5mdW5jdGlvbiBkZWFjdGl2YXRlKGhpZ2hsaWdodGVyKXtcblx0bGV0IGNhbnZhc0NvbnRhaW5lciA9IGhpZ2hsaWdodGVyLmdldENhbnZhc0NvbnRhaW5lcigpO1xuXHRjYW52YXNDb250YWluZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblx0c2Nyb2xsYXR0YWNoLmhvb2tDYW52YXNUb0VsZW1lbnQoKTtcblx0c2Nyb2xsYXR0YWNoLnVuaG9va0VsZW1lbnRGcm9tQ2FudmFzKCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcblx0YWN0aXZhdGU6IGFjdGl2YXRlLFxuXHRkZWFjdGl2YXRlOiBkZWFjdGl2YXRlXG59IiwiaW1wb3J0IGRyYXcgZnJvbSAnLi9kcmF3LmpzJztcbmltcG9ydCBjYW52YXNzdHlsZWRpbWVuc2lvbiBmcm9tICcuL2NhbnZhc3N0eWxlZGltZW5zaW9uLmpzJztcbmltcG9ydCBzY3JvbGxhdHRhY2ggZnJvbSAnLi9zY3JvbGxhdHRhY2guanMnO1xuXG4vLyBpbml0aWF0ZSBjYW52YXMgb24gaW5pdGlhdGluZyBoaWdobGlnaHRlciBvYmplY3RcbmZ1bmN0aW9uIGluaXRDYW52YXNPbkVsZW1lbnQoaGlnaGxpZ2h0ZXIpIHtcblx0bGV0IHdob2xlQ29udGFpbmVyID0gaGlnaGxpZ2h0ZXIuZ2V0V2hvbGVDb250YWluZXIoKTtcblx0bGV0IGVsZW1lbnQgPSBoaWdobGlnaHRlci5nZXRFbGVtZW50KCk7XG5cdGxldCBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cdGxldCBjYW52YXNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0d2hvbGVDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSB3aG9sZUNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiAhPSAnYWJzb2x1dGUnID8gJ3JlbGF0aXZlJyA6ICdhYnNvbHV0ZSc7XG5cblx0Ly8gYWRkIGhpZ2hsaWdodGVyXG5cdGNhbnZhc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjYW52YXNFbGVtZW50KTtcblx0d2hvbGVDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzQ29udGFpbmVyKTtcblx0aGlnaGxpZ2h0ZXIub3B0aW9ucy5jYW52YXNDb250YWluZXIgPSBjYW52YXNDb250YWluZXI7XG5cdGhpZ2hsaWdodGVyLm9wdGlvbnMuY2FudmFzRWxlbWVudCA9IGNhbnZhc0VsZW1lbnQ7XG5cblx0Ly8gaW5pdCBjYW52YXMgc3R5bGVzIGFuZCBkaW1lbnNpb25zXG5cdGNhbnZhc3N0eWxlZGltZW5zaW9uLmluaXQoaGlnaGxpZ2h0ZXIsIGNhbnZhc0NvbnRhaW5lciwgZWxlbWVudCwgY2FudmFzRWxlbWVudCk7XG5cblx0Ly8gYmluZCBjYW52YXMgdG8gZWxlbWVudCBvbiBzY3JvbGxcblx0c2Nyb2xsYXR0YWNoLmluaXRWYXJpYWJsZXMoaGlnaGxpZ2h0ZXIpO1xuXHRzY3JvbGxhdHRhY2guaG9va0NhbnZhc1RvRWxlbWVudCgpO1xuXG5cdC8vIHN0YXJ0IGRyYXcgb24gY2FudmFzXG5cdGNhbnZhc0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGRyYXcuc3RhcnREcmF3aW5nLmJpbmQoaGlnaGxpZ2h0ZXIpLCBmYWxzZSk7XG5cdGNhbnZhc0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZHJhdy5kcmF3TGluZS5iaW5kKGhpZ2hsaWdodGVyKSwgZmFsc2UpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG5cdGluaXRDYW52YXNPbkVsZW1lbnQ6IGluaXRDYW52YXNPbkVsZW1lbnRcbn0iLCJsZXQgZWxlbWVudDtcbmxldCBjYW52YXNDb250YWluZXI7XG4vL2F0dGFjaCBjYW52YXMgdG8gZWxlbWVudFxubGV0IGF0dGFjaENhbnZhc1RvRWxlbWVudDtcbi8vYXR0YWNoIGVsZW1lbnQgdG8gY2FudmFzXG5sZXQgYXR0YWNoRWxlbWVudFRvQ2FudmFzO1xuXG5mdW5jdGlvbiBhdHRhY2hDYW52YXNUb0VsZW1lbnRFdmVudCgpe1xuXHRjYW52YXNDb250YWluZXIuc2Nyb2xsVG9wID0gZWxlbWVudC5zY3JvbGxUb3A7XG5cdGNhbnZhc0NvbnRhaW5lci5zY3JvbGxMZWZ0ID0gZWxlbWVudC5zY3JvbGxMZWZ0O1xufVxuXG5mdW5jdGlvbiBhdHRhY2hFbGVtZW50VG9DYW52YXNFdmVudCgpe1xuXHRlbGVtZW50LnNjcm9sbFRvcCA9IGNhbnZhc0NvbnRhaW5lci5zY3JvbGxUb3A7XG5cdGVsZW1lbnQuc2Nyb2xsTGVmdCA9IGNhbnZhc0NvbnRhaW5lci5zY3JvbGxMZWZ0O1xufVxuXG5mdW5jdGlvbiBpbml0VmFyaWFibGVzKGhpZ2hsaWdodGVyKXtcblx0YXR0YWNoQ2FudmFzVG9FbGVtZW50ID0gYXR0YWNoQ2FudmFzVG9FbGVtZW50RXZlbnQuYmluZChoaWdobGlnaHRlcik7XG5cdGF0dGFjaEVsZW1lbnRUb0NhbnZhcz0gYXR0YWNoRWxlbWVudFRvQ2FudmFzRXZlbnQuYmluZChoaWdobGlnaHRlcik7XG5cdGNhbnZhc0NvbnRhaW5lciA9IGhpZ2hsaWdodGVyLmdldENhbnZhc0NvbnRhaW5lcigpO1xuXHRlbGVtZW50ID0gaGlnaGxpZ2h0ZXIuZ2V0RWxlbWVudCgpO1xufVxuXG5mdW5jdGlvbiBob29rQ2FudmFzVG9FbGVtZW50KCl7XG5cdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgYXR0YWNoQ2FudmFzVG9FbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gdW5ob29rQ2FudmFzRnJvbUVsZW1lbnQoKXtcblx0ZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBhdHRhY2hDYW52YXNUb0VsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBob29rRWxlbWVudFRvQ2FudmFzKCl7XG5cdGNhbnZhc0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBhdHRhY2hFbGVtZW50VG9DYW52YXMpO1xufVxuXG5mdW5jdGlvbiB1bmhvb2tFbGVtZW50RnJvbUNhbnZhcygpe1xuXHRjYW52YXNDb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgYXR0YWNoRWxlbWVudFRvQ2FudmFzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuXHRpbml0VmFyaWFibGVzOiBpbml0VmFyaWFibGVzLFxuXHRob29rQ2FudmFzVG9FbGVtZW50OiBob29rQ2FudmFzVG9FbGVtZW50LFxuXHR1bmhvb2tDYW52YXNGcm9tRWxlbWVudDogdW5ob29rQ2FudmFzRnJvbUVsZW1lbnQsXG5cdGhvb2tFbGVtZW50VG9DYW52YXM6IGhvb2tFbGVtZW50VG9DYW52YXMsXG5cdHVuaG9va0VsZW1lbnRGcm9tQ2FudmFzOiB1bmhvb2tFbGVtZW50RnJvbUNhbnZhc1xufSJdfQ==
