(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _initiation = require('./structure/initiation.js');

var _initiation2 = _interopRequireDefault(_initiation);

var _highlighteractivation = require('./structure/highlighteractivation.js');

var _highlighteractivation2 = _interopRequireDefault(_highlighteractivation);

var _drawstyles = require('./structure/drawstyles.js');

var _drawstyles2 = _interopRequireDefault(_drawstyles);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Highlighter = function ($) {

	function Highlighter(options) {
		this.options = options;
		_initiation2.default.initCanvasOnElement(this);
	}

	Highlighter.prototype.getElement = function () {
		return document.querySelector(this.options.element);
	};

	Highlighter.prototype.getCanvasElement = function () {
		return this.options.canvasElement;
	};

	Highlighter.prototype.getCanvasContainer = function () {
		return this.options.canvasContainer;
	};

	Highlighter.prototype.getWholeContainer = function () {
		return this.options.container ? document.querySelector(this.options.container) : document.querySelector('body');
	};

	Highlighter.prototype.getZIndex = function () {
		return this.options.index || '1';
	};

	Highlighter.prototype.getCalibarationLevel = function () {
		return this.options.calibarationLevel || 10;
	};

	Highlighter.prototype.getLanguage = function () {
		return this.options.lang || 'e';
	};

	Highlighter.prototype.getRadius = function () {
		return this.options.radius || 10;
	};

	Highlighter.prototype.getContext = function () {
		return this.getCanvasElement().getContext('2d');
	};

	Highlighter.prototype.getOpacity = function () {
		return this.options.opacity;
	};

	Highlighter.prototype.getColor = function () {
		return this.options.color || 'yellow';
	};

	Highlighter.prototype.activateHighlighter = function () {
		_highlighteractivation2.default.activate(this);
	};

	Highlighter.prototype.deactivateHighlighter = function () {
		_highlighteractivation2.default.deactivate(this);
	};

	Highlighter.prototype.startMarker = function () {
		_drawstyles2.default.initMarkStyle(this);
	};

	Highlighter.prototype.startEraser = function () {
		_drawstyles2.default.initEraseStyle(this);
	};

	window.Highlighter = Highlighter;

	return Highlighter;
}(jQuery);

},{"./structure/drawstyles.js":5,"./structure/highlighteractivation.js":7,"./structure/initiation.js":8}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

// calibaration algorithms for x and Y positions of points
exports.default = function () {

	function calibarateX(clientX, parents, canvasContainer, calibarationLevel, lang) {
		var elementX = clientX;
		elementX = calibarateElementX(elementX, parents);
		elementX = calibarateScrollLeft(elementX, parents, canvasContainer);
		elementX = calibarateScaleX(elementX, canvasContainer, calibarationLevel, lang);
		return elementX;
	}

	function calibarateY(clientY, parents, canvasContainer, calibarationLevel, transformOriginY) {
		var elementY = clientY;
		elementY = calibarateElementY(elementY, parents);
		elementY = calibarateScrollTop(elementY, parents, canvasContainer);
		elementY = calibarateScaleY(elementY, canvasContainer, calibarationLevel, transformOriginY);
		return elementY;
	}

	// in case of absolute divs only - calculate left
	function calibarateElementX(clientX, parents) {
		var additions = 0;
		var accumOffsetLeft = 0;
		parents = parents.toArray().reverse();
		parents.forEach(function (element, number) {
			additions += element.getBoundingClientRect().left - accumOffsetLeft;
			accumOffsetLeft += element.getBoundingClientRect().left;
		});
		return clientX - additions;
	}

	// in case of absolute divs only - calculate top
	function calibarateElementY(clientY, parents) {
		var additions = 0;
		var accumOffsetTop = 0;
		parents = parents.toArray().reverse();
		parents.forEach(function (element, number) {
			additions += element.getBoundingClientRect().top - accumOffsetTop;
			accumOffsetTop += element.getBoundingClientRect().top;
		});
		return clientY - additions;
	}

	// calculate scroll left
	function calibarateScrollLeft(clientX, parents, container) {
		var initialWidth = container.offsetWidth;
		var scaledWidth = container.getBoundingClientRect().width;
		var widthDiff = scaledWidth - initialWidth;
		var scaleX = scaledWidth / initialWidth;
		scaleX = parseFloat(scaleX.toFixed(5));

		var additions = 0;
		parents.each(function (number, element) {
			if (element === container) {
				additions += element.scrollLeft + element.scrollLeft * (scaleX - 1);
			} else {
				additions += element.scrollLeft;
			}
		});
		return clientX + additions;
	}

	// calculate scroll top
	function calibarateScrollTop(clientY, parents, container) {
		var initialHeight = container.offsetHeight;
		var scaledHeight = container.getBoundingClientRect().height;
		var scaleY = scaledHeight / initialHeight;
		scaleY = parseFloat(scaleY.toFixed(5));

		var additions = 0;
		parents.each(function (number, element) {
			if (element === container) {
				additions += element.scrollTop + element.scrollTop * (scaleY - 1);
			} else {
				additions += element.scrollTop;
			}
		});
		return clientY + additions;
	}

	// calculate scale X
	function calibarateScaleX(clientX, container, calDegree, lang) {
		var initialWidth = container.offsetWidth;
		var scaledWidth = container.getBoundingClientRect().width;
		var widthDiff = scaledWidth - initialWidth;
		var scaleX = scaledWidth / initialWidth;
		scaleX = parseFloat(scaleX.toFixed(5));
		var calibaratedValue = 0;
		for (var calLevel = 0; calLevel <= calDegree; calLevel++) {
			calibaratedValue += clientX * Math.pow(1 - scaleX, calLevel);
		}

		if (lang === 'a') {
			// calibarate width
			for (var _calLevel = 0; _calLevel <= calDegree; _calLevel++) {
				calibaratedValue += widthDiff * Math.pow(1 - scaleX, _calLevel);
			}
			return calibaratedValue;
		}

		return calibaratedValue;
	}

	// calculate scale Y
	function calibarateScaleY(clientY, container, calDegree, transformOriginY) {
		var initialHeight = container.offsetHeight;
		var scaledHeight = container.getBoundingClientRect().height;
		transformOriginY = Number(transformOriginY);
		var transformOriginYCorrectionFactor = transformOriginY / (scaledHeight + transformOriginY);
		var scaleY = scaledHeight / initialHeight;
		scaleY = parseFloat(scaleY.toFixed(5));
		var calibaratedValue = 0;
		for (var calLevel = 0; calLevel <= calDegree; calLevel++) {
			calibaratedValue += clientY * Math.pow(1 - scaleY, calLevel);
		}
		for (var _calLevel2 = 1; _calLevel2 <= calDegree; _calLevel2++) {
			calibaratedValue -= transformOriginY * Math.pow(1 - scaleY, _calLevel2);
		}
		return calibaratedValue;
	}

	return {
		calibarateX: calibarateX,
		calibarateY: calibarateY
	};
}();

},{}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _functions = require("./functions.js");

var _functions2 = _interopRequireDefault(_functions);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// default canvas style
function initCanvasStyle(highlighter) {
	var context = highlighter.getContext();
	var radius = highlighter.getRadius();
	context.lineCap = "round";
	context.lineJoin = "round";
	context.globalCompositeOperation = "source-over";
	context.strokeStyle = highlighter.getColor();
	context.fillStyle = highlighter.getColor();
	context.lineWidth = radius * 2;
}

// Adjust canvas container position and dimensions with none scaled element
function canvasContainerAdjustDimensions(highlighter, canvasContainer, element) {
	var elementPositions = _functions2.default.getPosition(element);
	canvasContainer.style.width = element.getBoundingClientRect().width + 'px';
	canvasContainer.style.height = element.getBoundingClientRect().height + 'px';
	canvasContainer.style.position = 'absolute';
	canvasContainer.style.overflow = 'auto';
	canvasContainer.style.left = elementPositions.x + 'px';
	canvasContainer.style.top = elementPositions.y + 'px';
	canvasContainer.style.zIndex = highlighter.getZIndex();
	canvasContainer.style.pointerEvents = 'none';
	canvasContainer.style.opacity = highlighter.getOpacity();
	window.addEventListener("resize", adjustCanvasOnResize.bind(highlighter));
}

// element on resize
function adjustCanvasOnResize() {
	var canvasContainer = this.getCanvasContainer();
	var element = this.getElement();
	var elementPositions = _functions2.default.getPosition(element);
	canvasContainer.style.left = elementPositions.x + 'px';
	canvasContainer.style.top = elementPositions.y + 'px';
}

// Adjust canvas element dimensions
function canvasElementAdjustDimensions(canvasElement, element) {
	canvasElement.style.width = element.scrollWidth + 'px';
	canvasElement.style.display = 'block';
	canvasElement.width = element.scrollWidth;
	canvasElement.style.height = element.scrollHeight + 'px';
	canvasElement.height = element.scrollHeight;
}

function init(highlighter, canvasContainer, element, canvasElement) {
	canvasContainerAdjustDimensions(highlighter, canvasContainer, element);
	canvasElementAdjustDimensions(canvasElement, element);
	initCanvasStyle(highlighter);
}

exports.default = {
	init: init
};

},{"./functions.js":6}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _calibartion = require('./calibartion.js');

var _calibartion2 = _interopRequireDefault(_calibartion);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// put a point on canvas
function putPoint(highlighter, elementX, elementY) {
	var context = highlighter.getContext();
	var radius = highlighter.getRadius();
	context.beginPath();
	context.arc(elementX, elementY, radius, 0, Math.PI * 2);
	context.fill();
}

// start paint on canvas
function startDrawing(event) {
	var parents = $(event.target).parents();
	var container = event.target.parentNode;
	var elementX = event.touches ? event.touches[0].clientX : event.pageX;
	var elementY = event.touches ? event.touches[0].clientY : event.pageY;
	var transformOriginY = $(container).css('transform-origin').split(' ')[1];
	var calibarationLevel = this.getCalibarationLevel();
	var lang = this.getLanguage();
	var context = this.getContext();
	transformOriginY = transformOriginY.replace('px', '');

	elementX = _calibartion2.default.calibarateX(elementX, parents, container, calibarationLevel, lang);
	elementY = _calibartion2.default.calibarateY(elementY, parents, container, calibarationLevel, transformOriginY);

	putPoint(this, elementX, elementY);
	context.beginPath();
	context.moveTo(elementX, elementY);
}

// draw lines on canvas
function drawLine(event) {
	var parents = $(event.target).parents();
	var container = event.target.parentNode;
	var elementX = event.touches ? event.touches[0].clientX : event.pageX;
	var elementY = event.touches ? event.touches[0].clientY : event.pageY;
	var transformOriginY = $(container).css('transform-origin').split(' ')[1];
	var calibarationLevel = this.getCalibarationLevel();
	var lang = this.getLanguage();
	var context = this.getContext();
	transformOriginY = transformOriginY.replace('px', '');

	elementX = _calibartion2.default.calibarateX(elementX, parents, container, calibarationLevel, lang);
	elementY = _calibartion2.default.calibarateY(elementY, parents, container, calibarationLevel, transformOriginY);

	context.lineTo(elementX, elementY);
	context.stroke();
	putPoint(this, elementX, elementY);
	context.beginPath();
	context.moveTo(elementX, elementY);
}

exports.default = {
	putPoint: putPoint,
	startDrawing: startDrawing,
	drawLine: drawLine
};

},{"./calibartion.js":2}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
function initMarkStyle(highlighter) {
	var context = highlighter.getContext();
	context.globalCompositeOperation = "source-over";
}

function initEraseStyle(highlighter) {
	var context = highlighter.getContext();
	context.globalCompositeOperation = "destination-out";
}

exports.default = {
	initMarkStyle: initMarkStyle,
	initEraseStyle: initEraseStyle
};

},{}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
// get position of element
function getPos(el) {
	var elements = [];
	for (var lx = 0, ly = 0; el != null; lx += el.offsetLeft, ly += el.offsetTop, el = el.offsetParent) {
		elements.push(el);
	}
	return { x: lx, y: ly, elements: elements };
}

// Helper function to get an element's exact position
function getPosition(el) {
	var xPos = 0;
	var yPos = 0;

	while (el) {
		if (el.tagName == "BODY") {
			// deal with browser quirks with body/window/document and page scroll
			var xScroll = el.scrollLeft || document.documentElement.scrollLeft;
			var yScroll = el.scrollTop || document.documentElement.scrollTop;

			xPos += el.offsetLeft - xScroll + el.clientLeft;
			yPos += el.offsetTop - yScroll + el.clientTop;
		} else {
			// for all other non-BODY elements
			xPos += el.offsetLeft - el.scrollLeft + el.clientLeft;
			yPos += el.offsetTop - el.scrollTop + el.clientTop;
		}

		el = el.offsetParent;
	}
	return {
		x: xPos,
		y: yPos
	};
}

exports.default = {
	getPos: getPos,
	getPosition: getPosition
};

},{}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _scrollattach = require('./scrollattach.js');

var _scrollattach2 = _interopRequireDefault(_scrollattach);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function activate(highlighter) {
	var canvasContainer = highlighter.getCanvasContainer();
	canvasContainer.style.pointerEvents = 'auto';
	_scrollattach2.default.unhookCanvasFromElement();
	_scrollattach2.default.hookElementToCanvas();
}

function deactivate(highlighter) {
	var canvasContainer = highlighter.getCanvasContainer();
	canvasContainer.style.pointerEvents = 'none';
	_scrollattach2.default.hookCanvasToElement();
	_scrollattach2.default.unhookElementFromCanvas();
}

exports.default = {
	activate: activate,
	deactivate: deactivate
};

},{"./scrollattach.js":9}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _draw = require('./draw.js');

var _draw2 = _interopRequireDefault(_draw);

var _canvasstyledimension = require('./canvasstyledimension.js');

var _canvasstyledimension2 = _interopRequireDefault(_canvasstyledimension);

var _scrollattach = require('./scrollattach.js');

var _scrollattach2 = _interopRequireDefault(_scrollattach);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// initiate canvas on initiating highlighter object
function initCanvasOnElement(highlighter) {
	var wholeContainer = highlighter.getWholeContainer();
	var element = highlighter.getElement();
	var canvasElement = document.createElement('canvas');
	var canvasContainer = document.createElement('div');
	wholeContainer.style.position = wholeContainer.style.position != 'absolute' ? 'relative' : 'absolute';

	// add highlighter
	canvasContainer.appendChild(canvasElement);
	wholeContainer.appendChild(canvasContainer);
	highlighter.options.canvasContainer = canvasContainer;
	highlighter.options.canvasElement = canvasElement;

	// init canvas styles and dimensions
	_canvasstyledimension2.default.init(highlighter, canvasContainer, element, canvasElement);

	// bind canvas to element on scroll
	_scrollattach2.default.initVariables(highlighter);
	_scrollattach2.default.hookCanvasToElement();

	// start draw on canvas
	canvasElement.addEventListener('touchstart', _draw2.default.startDrawing.bind(highlighter), false);
	canvasElement.addEventListener('touchmove', _draw2.default.drawLine.bind(highlighter), false);
}

exports.default = {
	initCanvasOnElement: initCanvasOnElement
};

},{"./canvasstyledimension.js":3,"./draw.js":4,"./scrollattach.js":9}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
var element = void 0;
var canvasContainer = void 0;
//attach canvas to element
var attachCanvasToElement = void 0;
//attach element to canvas
var attachElementToCanvas = void 0;

function attachCanvasToElementEvent() {
	canvasContainer.scrollTop = element.scrollTop;
	canvasContainer.scrollLeft = element.scrollLeft;
}

function attachElementToCanvasEvent() {
	element.scrollTop = canvasContainer.scrollTop;
	element.scrollLeft = canvasContainer.scrollLeft;
}

function initVariables(highlighter) {
	attachCanvasToElement = attachCanvasToElementEvent.bind(highlighter);
	attachElementToCanvas = attachElementToCanvasEvent.bind(highlighter);
	canvasContainer = highlighter.getCanvasContainer();
	element = highlighter.getElement();
}

function hookCanvasToElement() {
	element.addEventListener('scroll', attachCanvasToElement);
}

function unhookCanvasFromElement() {
	element.removeEventListener('scroll', attachCanvasToElement);
}

function hookElementToCanvas() {
	canvasContainer.addEventListener('scroll', attachElementToCanvas);
}

function unhookElementFromCanvas() {
	canvasContainer.removeEventListener('scroll', attachElementToCanvas);
}

exports.default = {
	initVariables: initVariables,
	hookCanvasToElement: hookCanvasToElement,
	unhookCanvasFromElement: unhookCanvasFromElement,
	hookElementToCanvas: hookElementToCanvas,
	unhookElementFromCanvas: unhookElementFromCanvas
};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvaGlnaGxpZ2h0ZXIuanMiLCJzcmMvanMvc3RydWN0dXJlL2NhbGliYXJ0aW9uLmpzIiwic3JjL2pzL3N0cnVjdHVyZS9jYW52YXNzdHlsZWRpbWVuc2lvbi5qcyIsInNyYy9qcy9zdHJ1Y3R1cmUvZHJhdy5qcyIsInNyYy9qcy9zdHJ1Y3R1cmUvZHJhd3N0eWxlcy5qcyIsInNyYy9qcy9zdHJ1Y3R1cmUvZnVuY3Rpb25zLmpzIiwic3JjL2pzL3N0cnVjdHVyZS9oaWdobGlnaHRlcmFjdGl2YXRpb24uanMiLCJzcmMvanMvc3RydWN0dXJlL2luaXRpYXRpb24uanMiLCJzcmMvanMvc3RydWN0dXJlL3Njcm9sbGF0dGFjaC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFJLGNBQWUsVUFBUyxDQUFULEVBQVk7O0FBRTlCLFVBQVMsV0FBVCxDQUFxQixPQUFyQixFQUE4QjtBQUM3QixPQUFLLE9BQUwsR0FBZSxPQUFmO0FBQ0EsdUJBQVcsbUJBQVgsQ0FBK0IsSUFBL0I7QUFDQTs7QUFFRCxhQUFZLFNBQVosQ0FBc0IsVUFBdEIsR0FBbUMsWUFBVztBQUM3QyxTQUFPLFNBQVMsYUFBVCxDQUF1QixLQUFLLE9BQUwsQ0FBYSxPQUFwQyxDQUFQO0FBQ0EsRUFGRDs7QUFJQSxhQUFZLFNBQVosQ0FBc0IsZ0JBQXRCLEdBQXlDLFlBQVc7QUFDbkQsU0FBTyxLQUFLLE9BQUwsQ0FBYSxhQUFwQjtBQUNBLEVBRkQ7O0FBSUEsYUFBWSxTQUFaLENBQXNCLGtCQUF0QixHQUEyQyxZQUFXO0FBQ3JELFNBQU8sS0FBSyxPQUFMLENBQWEsZUFBcEI7QUFDQSxFQUZEOztBQUlBLGFBQVksU0FBWixDQUFzQixpQkFBdEIsR0FBMEMsWUFBVztBQUNwRCxTQUFPLEtBQUssT0FB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SUFBM0IsQ0FBZ0MsV0FBaEMsQ0FBdkI7QUFDQSxtQkFBa0IsWUFBWSxrQkFBWixFQUFsQjtBQUNBLFdBQVUsWUFBWSxVQUFaLEVBQVY7QUFDQTs7QUFFRCxTQUFTLG1CQUFULEdBQThCO0FBQzdCLFNBQVEsZ0JBQVIsQ0FBeUIsUUFBekIsRUFBbUMscUJBQW5DO0FBQ0E7O0FBRUQsU0FBUyx1QkFBVCxHQUFrQztBQUNqQyxTQUFRLG1CQUFSLENBQTRCLFFBQTVCLEVBQXNDLHFCQUF0QztBQUNBOztBQUVELFNBQVMsbUJBQVQsR0FBOEI7QUFDN0IsaUJBQWdCLGdCQUFoQixDQUFpQyxRQUFqQyxFQUEyQyxxQkFBM0M7QUFDQTs7QUFFRCxTQUFTLHVCQUFULEdBQWtDO0FBQ2pDLGlCQUFnQixtQkFBaEIsQ0FBb0MsUUFBcEMsRUFBOEMscUJBQTlDO0FBQ0E7O2tCQUVjO0FBQ2QsZ0JBQWUsYUFERDtBQUVkLHNCQUFxQixtQkFGUDtBQUdkLDBCQUF5Qix1QkFIWDtBQUlkLHNCQUFxQixtQkFKUDtBQUtkLDBCQUF5QjtBQUxYLEMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0IGluaXRpYXRpb24gZnJvbSAnLi9zdHJ1Y3R1cmUvaW5pdGlhdGlvbi5qcyc7XG5pbXBvcnQgaGlnaGxpZ2h0ZXJBY3RpdmF0aW9uIGZyb20gJy4vc3RydWN0dXJlL2hpZ2hsaWdodGVyYWN0aXZhdGlvbi5qcyc7XG5pbXBvcnQgZHJhd1N0eWxlcyBmcm9tICcuL3N0cnVjdHVyZS9kcmF3c3R5bGVzLmpzJztcblxudmFyIEhpZ2hsaWdodGVyID0gKGZ1bmN0aW9uKCQpIHtcblxuXHRmdW5jdGlvbiBIaWdobGlnaHRlcihvcHRpb25zKSB7XG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0XHRpbml0aWF0aW9uLmluaXRDYW52YXNPbkVsZW1lbnQodGhpcyk7XG5cdH1cblxuXHRIaWdobGlnaHRlci5wcm90b3R5cGUuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5lbGVtZW50KTtcblx0fTtcblxuXHRIaWdobGlnaHRlci5wcm90b3R5cGUuZ2V0Q2FudmFzRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuY2FudmFzRWxlbWVudDtcblx0fTtcblxuXHRIaWdobGlnaHRlci5wcm90b3R5cGUuZ2V0Q2FudmFzQ29udGFpbmVyID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jYW52YXNDb250YWluZXI7XG5cdH07XG5cblx0SGlnaGxpZ2h0ZXIucHJvdG90eXBlLmdldFdob2xlQ29udGFpbmVyID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jb250YWluZXIgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5jb250YWluZXIpIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuXHR9O1xuXG5cdEhpZ2hsaWdodGVyLnByb3RvdHlwZS5nZXRaSW5kZXggPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmluZGV4IHx8ICcxJztcblx0fTtcblxuXHRIaWdobGlnaHRlci5wcm90b3R5cGUuZ2V0Q2FsaWJhcmF0aW9uTGV2ZWwgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmNhbGliYXJhdGlvbkxldmVsIHx8IDEwO1xuXHR9O1xuXG5cdEhpZ2hsaWdodGVyLnByb3RvdHlwZS5nZXRMYW5ndWFnZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMubGFuZyB8fCAnZSc7XG5cdH07XG5cblx0SGlnaGxpZ2h0ZXIucHJvdG90eXBlLmdldFJhZGl1cyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMucmFkaXVzIHx8IDEwO1xuXHR9O1xuXG5cdEhpZ2hsaWdodGVyLnByb3RvdHlwZS5nZXRDb250ZXh0ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0Q2FudmFzRWxlbWVudCgpLmdldENvbnRleHQoJzJkJyk7XG5cdH07XG5cblx0SGlnaGxpZ2h0ZXIucHJvdG90eXBlLmdldE9wYWNpdHkgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLm9wYWNpdHk7XG5cdH07XG5cblx0SGlnaGxpZ2h0ZXIucHJvdG90eXBlLmdldENvbG9yID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jb2xvciB8fCAneWVsbG93Jztcblx0fTtcblxuXHRIaWdobGlnaHRlci5wcm90b3R5cGUuYWN0aXZhdGVIaWdobGlnaHRlciA9IGZ1bmN0aW9uKCkge1xuXHRcdGhpZ2hsaWdodGVyQWN0aXZhdGlvbi5hY3RpdmF0ZSh0aGlzKTtcblx0fTtcblxuXHRIaWdobGlnaHRlci5wcm90b3R5cGUuZGVhY3RpdmF0ZUhpZ2hsaWdodGVyID0gZnVuY3Rpb24oKSB7XG5cdFx0aGlnaGxpZ2h0ZXJBY3RpdmF0aW9uLmRlYWN0aXZhdGUodGhpcyk7XG5cdH07XG5cblx0SGlnaGxpZ2h0ZXIucHJvdG90eXBlLnN0YXJ0TWFya2VyID0gZnVuY3Rpb24oKSB7XG5cdFx0ZHJhd1N0eWxlcy5pbml0TWFya1N0eWxlKHRoaXMpO1xuXHR9O1xuXG5cdEhpZ2hsaWdodGVyLnByb3RvdHlwZS5zdGFydEVyYXNlciA9IGZ1bmN0aW9uKCkge1xuXHRcdGRyYXdTdHlsZXMuaW5pdEVyYXNlU3R5bGUodGhpcyk7XG5cdH07XG5cblx0d2luZG93LkhpZ2hsaWdodGVyID0gSGlnaGxpZ2h0ZXI7XG5cblx0cmV0dXJuIEhpZ2hsaWdodGVyO1xuXG59KShqUXVlcnkpOyIsIi8vIGNhbGliYXJhdGlvbiBhbGdvcml0aG1zIGZvciB4IGFuZCBZIHBvc2l0aW9ucyBvZiBwb2ludHNcbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbigpIHtcblxuXHRmdW5jdGlvbiBjYWxpYmFyYXRlWChjbGllbnRYLCBwYXJlbnRzLCBjYW52YXNDb250YWluZXIsIGNhbGliYXJhdGlvbkxldmVsLCBsYW5nKSB7XG5cdFx0dmFyIGVsZW1lbnRYID0gY2xpZW50WDtcblx0XHRlbGVtZW50WCA9IGNhbGliYXJhdGVFbGVtZW50WChlbGVtZW50WCwgcGFyZW50cyk7XG5cdFx0ZWxlbWVudFggPSBjYWxpYmFyYXRlU2Nyb2xsTGVmdChlbGVtZW50WCwgcGFyZW50cywgY2FudmFzQ29udGFpbmVyKTtcblx0XHRlbGVtZW50WCA9IGNhbGliYXJhdGVTY2FsZVgoZWxlbWVudFgsIGNhbnZhc0NvbnRhaW5lciwgY2FsaWJhcmF0aW9uTGV2ZWwsIGxhbmcpO1xuXHRcdHJldHVybiBlbGVtZW50WDtcblx0fVxuXG5cdGZ1bmN0aW9uIGNhbGliYXJhdGVZKGNsaWVudFksIHBhcmVudHMsIGNhbnZhc0NvbnRhaW5lciwgY2FsaWJhcmF0aW9uTGV2ZWwsIHRyYW5zZm9ybU9yaWdpblkpIHtcblx0XHR2YXIgZWxlbWVudFkgPSBjbGllbnRZO1xuXHRcdGVsZW1lbnRZID0gY2FsaWJhcmF0ZUVsZW1lbnRZKGVsZW1lbnRZLCBwYXJlbnRzKTtcblx0XHRlbGVtZW50WSA9IGNhbGliYXJhdGVTY3JvbGxUb3AoZWxlbWVudFksIHBhcmVudHMsIGNhbnZhc0NvbnRhaW5lcik7XG5cdFx0ZWxlbWVudFkgPSBjYWxpYmFyYXRlU2NhbGVZKGVsZW1lbnRZLCBjYW52YXNDb250YWluZXIsIGNhbGliYXJhdGlvbkxldmVsLCB0cmFuc2Zvcm1PcmlnaW5ZKTtcblx0XHRyZXR1cm4gZWxlbWVudFk7XG5cdH1cblxuXHQvLyBpbiBjYXNlIG9mIGFic29sdXRlIGRpdnMgb25seSAtIGNhbGN1bGF0ZSBsZWZ0XG5cdGZ1bmN0aW9uIGNhbGliYXJhdGVFbGVtZW50WChjbGllbnRYLCBwYXJlbnRzKSB7XG5cdFx0dmFyIGFkZGl0aW9ucyA9IDA7XG5cdFx0bGV0IGFjY3VtT2Zmc2V0TGVmdCA9IDA7XG5cdFx0cGFyZW50cyA9IHBhcmVudHMudG9BcnJheSgpLnJldmVyc2UoKTtcblx0XHRwYXJlbnRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCwgbnVtYmVyKSB7XG5cdFx0XHRhZGRpdGlvbnMgKz0gKGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCAtIGFjY3VtT2Zmc2V0TGVmdCk7XG5cdFx0XHRhY2N1bU9mZnNldExlZnQgKz0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuXHRcdH0pO1xuXHRcdHJldHVybiBjbGllbnRYIC0gYWRkaXRpb25zO1xuXHR9XG5cblx0Ly8gaW4gY2FzZSBvZiBhYnNvbHV0ZSBkaXZzIG9ubHkgLSBjYWxjdWxhdGUgdG9wXG5cdGZ1bmN0aW9uIGNhbGliYXJhdGVFbGVtZW50WShjbGllbnRZLCBwYXJlbnRzKSB7XG5cdFx0dmFyIGFkZGl0aW9ucyA9IDA7XG5cdFx0bGV0IGFjY3VtT2Zmc2V0VG9wID0gMDtcblx0XHRwYXJlbnRzID0gcGFyZW50cy50b0FycmF5KCkucmV2ZXJzZSgpO1xuXHRcdHBhcmVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50LCBudW1iZXIpIHtcblx0XHRcdGFkZGl0aW9ucyArPSAoZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSBhY2N1bU9mZnNldFRvcCk7XG5cdFx0XHRhY2N1bU9mZnNldFRvcCArPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcblx0XHR9KTtcblx0XHRyZXR1cm4gY2xpZW50WSAtIGFkZGl0aW9ucztcblx0fVxuXG5cdC8vIGNhbGN1bGF0ZSBzY3JvbGwgbGVmdFxuXHRmdW5jdGlvbiBjYWxpYmFyYXRlU2Nyb2xsTGVmdChjbGllbnRYLCBwYXJlbnRzLCBjb250YWluZXIpIHtcblx0XHR2YXIgaW5pdGlhbFdpZHRoID0gY29udGFpbmVyLm9mZnNldFdpZHRoO1xuXHRcdHZhciBzY2FsZWRXaWR0aCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcblx0XHR2YXIgd2lkdGhEaWZmID0gc2NhbGVkV2lkdGggLSBpbml0aWFsV2lkdGg7XG5cdFx0dmFyIHNjYWxlWCA9IHNjYWxlZFdpZHRoIC8gaW5pdGlhbFdpZHRoO1xuXHRcdHNjYWxlWCA9IHBhcnNlRmxvYXQoc2NhbGVYLnRvRml4ZWQoNSkpO1xuXG5cdFx0dmFyIGFkZGl0aW9ucyA9IDA7XG5cdFx0cGFyZW50cy5lYWNoKGZ1bmN0aW9uKG51bWJlciwgZWxlbWVudCkge1xuXHRcdFx0aWYgKGVsZW1lbnQgPT09IGNvbnRhaW5lcikge1xuXHRcdFx0XHRhZGRpdGlvbnMgKz0gZWxlbWVudC5zY3JvbGxMZWZ0ICsgZWxlbWVudC5zY3JvbGxMZWZ0ICogKHNjYWxlWCAtIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YWRkaXRpb25zICs9IGVsZW1lbnQuc2Nyb2xsTGVmdDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRyZXR1cm4gY2xpZW50WCArIGFkZGl0aW9ucztcblx0fVxuXG5cdC8vIGNhbGN1bGF0ZSBzY3JvbGwgdG9wXG5cdGZ1bmN0aW9uIGNhbGliYXJhdGVTY3JvbGxUb3AoY2xpZW50WSwgcGFyZW50cywgY29udGFpbmVyKSB7XG5cdFx0dmFyIGluaXRpYWxIZWlnaHQgPSBjb250YWluZXIub2Zmc2V0SGVpZ2h0O1xuXHRcdHZhciBzY2FsZWRIZWlnaHQgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuXHRcdHZhciBzY2FsZVkgPSBzY2FsZWRIZWlnaHQgLyBpbml0aWFsSGVpZ2h0O1xuXHRcdHNjYWxlWSA9IHBhcnNlRmxvYXQoc2NhbGVZLnRvRml4ZWQoNSkpO1xuXG5cdFx0dmFyIGFkZGl0aW9ucyA9IDA7XG5cdFx0cGFyZW50cy5lYWNoKGZ1bmN0aW9uKG51bWJlciwgZWxlbWVudCkge1xuXHRcdFx0aWYgKGVsZW1lbnQgPT09IGNvbnRhaW5lcikge1xuXHRcdFx0XHRhZGRpdGlvbnMgKz0gZWxlbWVudC5zY3JvbGxUb3AgKyBlbGVtZW50LnNjcm9sbFRvcCAqIChzY2FsZVkgLSAxKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGFkZGl0aW9ucyArPSBlbGVtZW50LnNjcm9sbFRvcDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRyZXR1cm4gY2xpZW50WSArIGFkZGl0aW9ucztcblx0fVxuXG5cdC8vIGNhbGN1bGF0ZSBzY2FsZSBYXG5cdGZ1bmN0aW9uIGNhbGliYXJhdGVTY2FsZVgoY2xpZW50WCwgY29udGFpbmVyLCBjYWxEZWdyZWUsIGxhbmcpIHtcblx0XHR2YXIgaW5pdGlhbFdpZHRoID0gY29udGFpbmVyLm9mZnNldFdpZHRoO1xuXHRcdHZhciBzY2FsZWRXaWR0aCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcblx0XHR2YXIgd2lkdGhEaWZmID0gc2NhbGVkV2lkdGggLSBpbml0aWFsV2lkdGg7XG5cdFx0dmFyIHNjYWxlWCA9IHNjYWxlZFdpZHRoIC8gaW5pdGlhbFdpZHRoO1xuXHRcdHNjYWxlWCA9IHBhcnNlRmxvYXQoc2NhbGVYLnRvRml4ZWQoNSkpO1xuXHRcdHZhciBjYWxpYmFyYXRlZFZhbHVlID0gMDtcblx0XHRmb3IgKHZhciBjYWxMZXZlbCA9IDA7IGNhbExldmVsIDw9IGNhbERlZ3JlZTsgY2FsTGV2ZWwrKykge1xuXHRcdFx0Y2FsaWJhcmF0ZWRWYWx1ZSArPSBjbGllbnRYICogTWF0aC5wb3coMSAtIHNjYWxlWCwgY2FsTGV2ZWwpO1xuXHRcdH1cblxuXHRcdGlmIChsYW5nID09PSAnYScpIHtcblx0XHRcdC8vIGNhbGliYXJhdGUgd2lkdGhcblx0XHRcdGZvciAodmFyIF9jYWxMZXZlbCA9IDA7IF9jYWxMZXZlbCA8PSBjYWxEZWdyZWU7IF9jYWxMZXZlbCsrKSB7XG5cdFx0XHRcdGNhbGliYXJhdGVkVmFsdWUgKz0gd2lkdGhEaWZmICogTWF0aC5wb3coMSAtIHNjYWxlWCwgX2NhbExldmVsKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBjYWxpYmFyYXRlZFZhbHVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBjYWxpYmFyYXRlZFZhbHVlO1xuXHR9XG5cblx0Ly8gY2FsY3VsYXRlIHNjYWxlIFlcblx0ZnVuY3Rpb24gY2FsaWJhcmF0ZVNjYWxlWShjbGllbnRZLCBjb250YWluZXIsIGNhbERlZ3JlZSwgdHJhbnNmb3JtT3JpZ2luWSkge1xuXHRcdHZhciBpbml0aWFsSGVpZ2h0ID0gY29udGFpbmVyLm9mZnNldEhlaWdodDtcblx0XHR2YXIgc2NhbGVkSGVpZ2h0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcblx0XHR0cmFuc2Zvcm1PcmlnaW5ZID0gTnVtYmVyKHRyYW5zZm9ybU9yaWdpblkpO1xuXHRcdHZhciB0cmFuc2Zvcm1PcmlnaW5ZQ29ycmVjdGlvbkZhY3RvciA9IHRyYW5zZm9ybU9yaWdpblkgLyAoc2NhbGVkSGVpZ2h0ICsgdHJhbnNmb3JtT3JpZ2luWSk7XG5cdFx0dmFyIHNjYWxlWSA9IHNjYWxlZEhlaWdodCAvIGluaXRpYWxIZWlnaHQ7XG5cdFx0c2NhbGVZID0gcGFyc2VGbG9hdChzY2FsZVkudG9GaXhlZCg1KSk7XG5cdFx0dmFyIGNhbGliYXJhdGVkVmFsdWUgPSAwO1xuXHRcdGZvciAodmFyIGNhbExldmVsID0gMDsgY2FsTGV2ZWwgPD0gY2FsRGVncmVlOyBjYWxMZXZlbCsrKSB7XG5cdFx0XHRjYWxpYmFyYXRlZFZhbHVlICs9IGNsaWVudFkgKiBNYXRoLnBvdygxIC0gc2NhbGVZLCBjYWxMZXZlbCk7XG5cdFx0fVxuXHRcdGZvciAodmFyIF9jYWxMZXZlbDIgPSAxOyBfY2FsTGV2ZWwyIDw9IGNhbERlZ3JlZTsgX2NhbExldmVsMisrKSB7XG5cdFx0XHRjYWxpYmFyYXRlZFZhbHVlIC09IHRyYW5zZm9ybU9yaWdpblkgKiBNYXRoLnBvdygxIC0gc2NhbGVZLCBfY2FsTGV2ZWwyKTtcblx0XHR9XG5cdFx0cmV0dXJuIGNhbGliYXJhdGVkVmFsdWU7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGNhbGliYXJhdGVYOiBjYWxpYmFyYXRlWCxcblx0XHRjYWxpYmFyYXRlWTogY2FsaWJhcmF0ZVlcblx0fVxuXG59KCkpO1xuIiwiaW1wb3J0IGZ1bmN0aW9ucyBmcm9tICcuL2Z1bmN0aW9ucy5qcyc7XG5cbi8vIGRlZmF1bHQgY2FudmFzIHN0eWxlXG5mdW5jdGlvbiBpbml0Q2FudmFzU3R5bGUoaGlnaGxpZ2h0ZXIpe1xuXHRsZXQgY29udGV4dCA9IGhpZ2hsaWdodGVyLmdldENvbnRleHQoKTtcblx0bGV0IHJhZGl1cyA9IGhpZ2hsaWdodGVyLmdldFJhZGl1cygpO1xuXHRjb250ZXh0LmxpbmVDYXAgPSBcInJvdW5kXCI7XG5cdGNvbnRleHQubGluZUpvaW4gPSBcInJvdW5kXCI7XG5cdGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2Utb3ZlclwiO1xuXHRjb250ZXh0LnN0cm9rZVN0eWxlID0gaGlnaGxpZ2h0ZXIuZ2V0Q29sb3IoKTtcblx0Y29udGV4dC5maWxsU3R5bGUgPSBoaWdobGlnaHRlci5nZXRDb2xvcigpO1xuXHRjb250ZXh0LmxpbmVXaWR0aCA9IHJhZGl1cyAqIDI7XG59XG5cbi8vIEFkanVzdCBjYW52YXMgY29udGFpbmVyIHBvc2l0aW9uIGFuZCBkaW1lbnNpb25zIHdpdGggbm9uZSBzY2FsZWQgZWxlbWVudFxuZnVuY3Rpb24gY2FudmFzQ29udGFpbmVyQWRqdXN0RGltZW5zaW9ucyhoaWdobGlnaHRlciwgY2FudmFzQ29udGFpbmVyLCBlbGVtZW50KSB7XG5cdGxldCBlbGVtZW50UG9zaXRpb25zID0gZnVuY3Rpb25zLmdldFBvc2l0aW9uKGVsZW1lbnQpO1xuXHRjYW52YXNDb250YWluZXIuc3R5bGUud2lkdGggPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgJ3B4Jztcblx0Y2FudmFzQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0ICsgJ3B4Jztcblx0Y2FudmFzQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblx0Y2FudmFzQ29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nO1xuXHRjYW52YXNDb250YWluZXIuc3R5bGUubGVmdCA9IGVsZW1lbnRQb3NpdGlvbnMueCArICdweCc7XG5cdGNhbnZhc0NvbnRhaW5lci5zdHlsZS50b3AgPSBlbGVtZW50UG9zaXRpb25zLnkgKyAncHgnO1xuXHRjYW52YXNDb250YWluZXIuc3R5bGUuekluZGV4ID0gaGlnaGxpZ2h0ZXIuZ2V0WkluZGV4KCk7XG5cdGNhbnZhc0NvbnRhaW5lci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuXHRjYW52YXNDb250YWluZXIuc3R5bGUub3BhY2l0eSA9IGhpZ2hsaWdodGVyLmdldE9wYWNpdHkoKTtcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgYWRqdXN0Q2FudmFzT25SZXNpemUuYmluZChoaWdobGlnaHRlcikpO1xufVxuXG4vLyBlbGVtZW50IG9uIHJlc2l6ZVxuZnVuY3Rpb24gYWRqdXN0Q2FudmFzT25SZXNpemUoKXtcblx0bGV0IGNhbnZhc0NvbnRhaW5lciA9IHRoaXMuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG5cdGxldCBlbGVtZW50ID0gdGhpcy5nZXRFbGVtZW50KCk7XG5cdGxldCBlbGVtZW50UG9zaXRpb25zID0gZnVuY3Rpb25zLmdldFBvc2l0aW9uKGVsZW1lbnQpO1xuXHRjYW52YXNDb250YWluZXIuc3R5bGUubGVmdCA9IGVsZW1lbnRQb3NpdGlvbnMueCArICdweCc7XG5cdGNhbnZhc0NvbnRhaW5lci5zdHlsZS50b3AgPSBlbGVtZW50UG9zaXRpb25zLnkgKyAncHgnO1xufVxuXG4vLyBBZGp1c3QgY2FudmFzIGVsZW1lbnQgZGltZW5zaW9uc1xuZnVuY3Rpb24gY2FudmFzRWxlbWVudEFkanVzdERpbWVuc2lvbnMoY2FudmFzRWxlbWVudCwgZWxlbWVudCkge1xuXHRjYW52YXNFbGVtZW50LnN0eWxlLndpZHRoID0gZWxlbWVudC5zY3JvbGxXaWR0aCArICdweCc7XG5cdGNhbnZhc0VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cdGNhbnZhc0VsZW1lbnQud2lkdGggPSBlbGVtZW50LnNjcm9sbFdpZHRoO1xuXHRjYW52YXNFbGVtZW50LnN0eWxlLmhlaWdodCA9IGVsZW1lbnQuc2Nyb2xsSGVpZ2h0ICsgJ3B4Jztcblx0Y2FudmFzRWxlbWVudC5oZWlnaHQgPSBlbGVtZW50LnNjcm9sbEhlaWdodDtcbn1cblxuZnVuY3Rpb24gaW5pdChoaWdobGlnaHRlciwgY2FudmFzQ29udGFpbmVyLCBlbGVtZW50LCBjYW52YXNFbGVtZW50KXtcblx0Y2FudmFzQ29udGFpbmVyQWRqdXN0RGltZW5zaW9ucyhoaWdobGlnaHRlciwgY2FudmFzQ29udGFpbmVyLCBlbGVtZW50KTtcblx0Y2FudmFzRWxlbWVudEFkanVzdERpbWVuc2lvbnMoY2FudmFzRWxlbWVudCwgZWxlbWVudCk7XG5cdGluaXRDYW52YXNTdHlsZShoaWdobGlnaHRlcik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcblx0aW5pdDogaW5pdFxufSIsImltcG9ydCBjYWxpYmFydGlvbiBmcm9tICcuL2NhbGliYXJ0aW9uLmpzJztcblxuLy8gcHV0IGEgcG9pbnQgb24gY2FudmFzXG5mdW5jdGlvbiBwdXRQb2ludChoaWdobGlnaHRlciwgZWxlbWVudFgsIGVsZW1lbnRZKSB7XG5cdHZhciBjb250ZXh0ID0gaGlnaGxpZ2h0ZXIuZ2V0Q29udGV4dCgpO1xuXHR2YXIgcmFkaXVzID0gaGlnaGxpZ2h0ZXIuZ2V0UmFkaXVzKCk7XG5cdGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cdGNvbnRleHQuYXJjKGVsZW1lbnRYLCBlbGVtZW50WSwgcmFkaXVzLCAwLCBNYXRoLlBJICogMik7XG5cdGNvbnRleHQuZmlsbCgpO1xufVxuXG4vLyBzdGFydCBwYWludCBvbiBjYW52YXNcbmZ1bmN0aW9uIHN0YXJ0RHJhd2luZyhldmVudCkge1xuXHR2YXIgcGFyZW50cyA9ICQoZXZlbnQudGFyZ2V0KS5wYXJlbnRzKCk7XG5cdHZhciBjb250YWluZXIgPSBldmVudC50YXJnZXQucGFyZW50Tm9kZTtcblx0dmFyIGVsZW1lbnRYID0gZXZlbnQudG91Y2hlcyA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2ZW50LnBhZ2VYO1xuXHR2YXIgZWxlbWVudFkgPSBldmVudC50b3VjaGVzID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZlbnQucGFnZVk7XG5cdHZhciB0cmFuc2Zvcm1PcmlnaW5ZID0gJChjb250YWluZXIpLmNzcygndHJhbnNmb3JtLW9yaWdpbicpLnNwbGl0KCcgJylbMV07XG5cdHZhciBjYWxpYmFyYXRpb25MZXZlbCA9IHRoaXMuZ2V0Q2FsaWJhcmF0aW9uTGV2ZWwoKTtcblx0dmFyIGxhbmcgPSB0aGlzLmdldExhbmd1YWdlKCk7XG5cdHZhciBjb250ZXh0ID0gdGhpcy5nZXRDb250ZXh0KCk7XG5cdHRyYW5zZm9ybU9yaWdpblkgPSB0cmFuc2Zvcm1PcmlnaW5ZLnJlcGxhY2UoJ3B4JywgJycpO1xuXG5cdGVsZW1lbnRYID0gY2FsaWJhcnRpb24uY2FsaWJhcmF0ZVgoZWxlbWVudFgsIHBhcmVudHMsIGNvbnRhaW5lciwgY2FsaWJhcmF0aW9uTGV2ZWwsIGxhbmcpO1xuXHRlbGVtZW50WSA9IGNhbGliYXJ0aW9uLmNhbGliYXJhdGVZKGVsZW1lbnRZLCBwYXJlbnRzLCBjb250YWluZXIsIGNhbGliYXJhdGlvbkxldmVsLCB0cmFuc2Zvcm1PcmlnaW5ZKTtcblxuXHRwdXRQb2ludCh0aGlzLCBlbGVtZW50WCwgZWxlbWVudFkpO1xuXHRjb250ZXh0LmJlZ2luUGF0aCgpO1xuXHRjb250ZXh0Lm1vdmVUbyhlbGVtZW50WCwgZWxlbWVudFkpO1xufVxuXG4vLyBkcmF3IGxpbmVzIG9uIGNhbnZhc1xuZnVuY3Rpb24gZHJhd0xpbmUoZXZlbnQpIHtcblx0dmFyIHBhcmVudHMgPSAkKGV2ZW50LnRhcmdldCkucGFyZW50cygpO1xuXHR2YXIgY29udGFpbmVyID0gZXZlbnQudGFyZ2V0LnBhcmVudE5vZGU7XG5cdHZhciBlbGVtZW50WCA9IGV2ZW50LnRvdWNoZXMgPyBldmVudC50b3VjaGVzWzBdLmNsaWVudFggOiBldmVudC5wYWdlWDtcblx0dmFyIGVsZW1lbnRZID0gZXZlbnQudG91Y2hlcyA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2ZW50LnBhZ2VZO1xuXHR2YXIgdHJhbnNmb3JtT3JpZ2luWSA9ICQoY29udGFpbmVyKS5jc3MoJ3RyYW5zZm9ybS1vcmlnaW4nKS5zcGxpdCgnICcpWzFdO1xuXHR2YXIgY2FsaWJhcmF0aW9uTGV2ZWwgPSB0aGlzLmdldENhbGliYXJhdGlvbkxldmVsKCk7XG5cdHZhciBsYW5nID0gdGhpcy5nZXRMYW5ndWFnZSgpO1xuXHR2YXIgY29udGV4dCA9IHRoaXMuZ2V0Q29udGV4dCgpO1xuXHR0cmFuc2Zvcm1PcmlnaW5ZID0gdHJhbnNmb3JtT3JpZ2luWS5yZXBsYWNlKCdweCcsICcnKTtcblxuXHRlbGVtZW50WCA9IGNhbGliYXJ0aW9uLmNhbGliYXJhdGVYKGVsZW1lbnRYLCBwYXJlbnRzLCBjb250YWluZXIsIGNhbGliYXJhdGlvbkxldmVsLCBsYW5nKTtcblx0ZWxlbWVudFkgPSBjYWxpYmFydGlvbi5jYWxpYmFyYXRlWShlbGVtZW50WSwgcGFyZW50cywgY29udGFpbmVyLCBjYWxpYmFyYXRpb25MZXZlbCwgdHJhbnNmb3JtT3JpZ2luWSk7XG5cblx0Y29udGV4dC5saW5lVG8oZWxlbWVudFgsIGVsZW1lbnRZKTtcblx0Y29udGV4dC5zdHJva2UoKTtcblx0cHV0UG9pbnQodGhpcywgZWxlbWVudFgsIGVsZW1lbnRZKTtcblx0Y29udGV4dC5iZWdpblBhdGgoKTtcblx0Y29udGV4dC5tb3ZlVG8oZWxlbWVudFgsIGVsZW1lbnRZKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuXHRwdXRQb2ludDogcHV0UG9pbnQsXG5cdHN0YXJ0RHJhd2luZzogc3RhcnREcmF3aW5nLFxuXHRkcmF3TGluZTogZHJhd0xpbmVcbn0iLCJmdW5jdGlvbiBpbml0TWFya1N0eWxlKGhpZ2hsaWdodGVyKXtcblx0bGV0IGNvbnRleHQgPSBoaWdobGlnaHRlci5nZXRDb250ZXh0KCk7XG5cdGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2Utb3ZlclwiO1xufVxuXG5mdW5jdGlvbiBpbml0RXJhc2VTdHlsZShoaWdobGlnaHRlcil7XG5cdGxldCBjb250ZXh0ID0gaGlnaGxpZ2h0ZXIuZ2V0Q29udGV4dCgpO1xuXHRjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwiZGVzdGluYXRpb24tb3V0XCI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcblx0aW5pdE1hcmtTdHlsZTogaW5pdE1hcmtTdHlsZSxcblx0aW5pdEVyYXNlU3R5bGU6IGluaXRFcmFzZVN0eWxlXG59XG4iLCIvLyBnZXQgcG9zaXRpb24gb2YgZWxlbWVudFxuZnVuY3Rpb24gZ2V0UG9zKGVsKSB7XG5cdGxldCBlbGVtZW50cyA9IFtdO1xuXHRmb3IgKHZhciBseCA9IDAsIGx5ID0gMDsgZWwgIT0gbnVsbDsgbHggKz0gZWwub2Zmc2V0TGVmdCwgbHkgKz0gZWwub2Zmc2V0VG9wLCBlbCA9IGVsLm9mZnNldFBhcmVudCl7XG5cdFx0ZWxlbWVudHMucHVzaChlbCk7XG5cdH1cblx0cmV0dXJuIHsgeDogbHgsIHk6IGx5LCBlbGVtZW50czogZWxlbWVudHMgfTtcbn1cblxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGFuIGVsZW1lbnQncyBleGFjdCBwb3NpdGlvblxuZnVuY3Rpb24gZ2V0UG9zaXRpb24oZWwpIHtcblx0dmFyIHhQb3MgPSAwO1xuXHR2YXIgeVBvcyA9IDA7XG5cblx0d2hpbGUgKGVsKSB7XG5cdFx0aWYgKGVsLnRhZ05hbWUgPT0gXCJCT0RZXCIpIHtcblx0XHRcdC8vIGRlYWwgd2l0aCBicm93c2VyIHF1aXJrcyB3aXRoIGJvZHkvd2luZG93L2RvY3VtZW50IGFuZCBwYWdlIHNjcm9sbFxuXHRcdFx0dmFyIHhTY3JvbGwgPSBlbC5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O1xuXHRcdFx0dmFyIHlTY3JvbGwgPSBlbC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcblxuXHRcdFx0eFBvcyArPSAoZWwub2Zmc2V0TGVmdCAtIHhTY3JvbGwgKyBlbC5jbGllbnRMZWZ0KTtcblx0XHRcdHlQb3MgKz0gKGVsLm9mZnNldFRvcCAtIHlTY3JvbGwgKyBlbC5jbGllbnRUb3ApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBmb3IgYWxsIG90aGVyIG5vbi1CT0RZIGVsZW1lbnRzXG5cdFx0XHR4UG9zICs9IChlbC5vZmZzZXRMZWZ0IC0gZWwuc2Nyb2xsTGVmdCArIGVsLmNsaWVudExlZnQpO1xuXHRcdFx0eVBvcyArPSAoZWwub2Zmc2V0VG9wIC0gZWwuc2Nyb2xsVG9wICsgZWwuY2xpZW50VG9wKTtcblx0XHR9XG5cblx0XHRlbCA9IGVsLm9mZnNldFBhcmVudDtcblx0fVxuXHRyZXR1cm4ge1xuXHRcdHg6IHhQb3MsXG5cdFx0eTogeVBvc1xuXHR9O1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG5cdGdldFBvczogZ2V0UG9zLFxuXHRnZXRQb3NpdGlvbjogZ2V0UG9zaXRpb25cbn0iLCJpbXBvcnQgc2Nyb2xsYXR0YWNoIGZyb20gJy4vc2Nyb2xsYXR0YWNoLmpzJztcblxuZnVuY3Rpb24gYWN0aXZhdGUoaGlnaGxpZ2h0ZXIpe1xuXHRsZXQgY2FudmFzQ29udGFpbmVyID0gaGlnaGxpZ2h0ZXIuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG5cdGNhbnZhc0NvbnRhaW5lci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuXHRzY3JvbGxhdHRhY2gudW5ob29rQ2FudmFzRnJvbUVsZW1lbnQoKTtcblx0c2Nyb2xsYXR0YWNoLmhvb2tFbGVtZW50VG9DYW52YXMoKTtcbn1cblxuZnVuY3Rpb24gZGVhY3RpdmF0ZShoaWdobGlnaHRlcil7XG5cdGxldCBjYW52YXNDb250YWluZXIgPSBoaWdobGlnaHRlci5nZXRDYW52YXNDb250YWluZXIoKTtcblx0Y2FudmFzQ29udGFpbmVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG5cdHNjcm9sbGF0dGFjaC5ob29rQ2FudmFzVG9FbGVtZW50KCk7XG5cdHNjcm9sbGF0dGFjaC51bmhvb2tFbGVtZW50RnJvbUNhbnZhcygpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG5cdGFjdGl2YXRlOiBhY3RpdmF0ZSxcblx0ZGVhY3RpdmF0ZTogZGVhY3RpdmF0ZVxufSIsImltcG9ydCBkcmF3IGZyb20gJy4vZHJhdy5qcyc7XG5pbXBvcnQgY2FudmFzc3R5bGVkaW1lbnNpb24gZnJvbSAnLi9jYW52YXNzdHlsZWRpbWVuc2lvbi5qcyc7XG5pbXBvcnQgc2Nyb2xsYXR0YWNoIGZyb20gJy4vc2Nyb2xsYXR0YWNoLmpzJztcblxuLy8gaW5pdGlhdGUgY2FudmFzIG9uIGluaXRpYXRpbmcgaGlnaGxpZ2h0ZXIgb2JqZWN0XG5mdW5jdGlvbiBpbml0Q2FudmFzT25FbGVtZW50KGhpZ2hsaWdodGVyKSB7XG5cdGxldCB3aG9sZUNvbnRhaW5lciA9IGhpZ2hsaWdodGVyLmdldFdob2xlQ29udGFpbmVyKCk7XG5cdGxldCBlbGVtZW50ID0gaGlnaGxpZ2h0ZXIuZ2V0RWxlbWVudCgpO1xuXHRsZXQgY2FudmFzRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXHRsZXQgY2FudmFzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdHdob2xlQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gd2hvbGVDb250YWluZXIuc3R5bGUucG9zaXRpb24gIT0gJ2Fic29sdXRlJyA/ICdyZWxhdGl2ZScgOiAnYWJzb2x1dGUnO1xuXG5cdC8vIGFkZCBoaWdobGlnaHRlclxuXHRjYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzRWxlbWVudCk7XG5cdHdob2xlQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhbnZhc0NvbnRhaW5lcik7XG5cdGhpZ2hsaWdodGVyLm9wdGlvbnMuY2FudmFzQ29udGFpbmVyID0gY2FudmFzQ29udGFpbmVyO1xuXHRoaWdobGlnaHRlci5vcHRpb25zLmNhbnZhc0VsZW1lbnQgPSBjYW52YXNFbGVtZW50O1xuXG5cdC8vIGluaXQgY2FudmFzIHN0eWxlcyBhbmQgZGltZW5zaW9uc1xuXHRjYW52YXNzdHlsZWRpbWVuc2lvbi5pbml0KGhpZ2hsaWdodGVyLCBjYW52YXNDb250YWluZXIsIGVsZW1lbnQsIGNhbnZhc0VsZW1lbnQpO1xuXG5cdC8vIGJpbmQgY2FudmFzIHRvIGVsZW1lbnQgb24gc2Nyb2xsXG5cdHNjcm9sbGF0dGFjaC5pbml0VmFyaWFibGVzKGhpZ2hsaWdodGVyKTtcblx0c2Nyb2xsYXR0YWNoLmhvb2tDYW52YXNUb0VsZW1lbnQoKTtcblxuXHQvLyBzdGFydCBkcmF3IG9uIGNhbnZhc1xuXHRjYW52YXNFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBkcmF3LnN0YXJ0RHJhd2luZy5iaW5kKGhpZ2hsaWdodGVyKSwgZmFsc2UpO1xuXHRjYW52YXNFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGRyYXcuZHJhd0xpbmUuYmluZChoaWdobGlnaHRlciksIGZhbHNlKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuXHRpbml0Q2FudmFzT25FbGVtZW50OiBpbml0Q2FudmFzT25FbGVtZW50XG59IiwibGV0IGVsZW1lbnQ7XG5sZXQgY2FudmFzQ29udGFpbmVyO1xuLy9hdHRhY2ggY2FudmFzIHRvIGVsZW1lbnRcbmxldCBhdHRhY2hDYW52YXNUb0VsZW1lbnQ7XG4vL2F0dGFjaCBlbGVtZW50IHRvIGNhbnZhc1xubGV0IGF0dGFjaEVsZW1lbnRUb0NhbnZhcztcblxuZnVuY3Rpb24gYXR0YWNoQ2FudmFzVG9FbGVtZW50RXZlbnQoKXtcblx0Y2FudmFzQ29udGFpbmVyLnNjcm9sbFRvcCA9IGVsZW1lbnQuc2Nyb2xsVG9wO1xuXHRjYW52YXNDb250YWluZXIuc2Nyb2xsTGVmdCA9IGVsZW1lbnQuc2Nyb2xsTGVmdDtcbn1cblxuZnVuY3Rpb24gYXR0YWNoRWxlbWVudFRvQ2FudmFzRXZlbnQoKXtcblx0ZWxlbWVudC5zY3JvbGxUb3AgPSBjYW52YXNDb250YWluZXIuc2Nyb2xsVG9wO1xuXHRlbGVtZW50LnNjcm9sbExlZnQgPSBjYW52YXNDb250YWluZXIuc2Nyb2xsTGVmdDtcbn1cblxuZnVuY3Rpb24gaW5pdFZhcmlhYmxlcyhoaWdobGlnaHRlcil7XG5cdGF0dGFjaENhbnZhc1RvRWxlbWVudCA9IGF0dGFjaENhbnZhc1RvRWxlbWVudEV2ZW50LmJpbmQoaGlnaGxpZ2h0ZXIpO1xuXHRhdHRhY2hFbGVtZW50VG9DYW52YXM9IGF0dGFjaEVsZW1lbnRUb0NhbnZhc0V2ZW50LmJpbmQoaGlnaGxpZ2h0ZXIpO1xuXHRjYW52YXNDb250YWluZXIgPSBoaWdobGlnaHRlci5nZXRDYW52YXNDb250YWluZXIoKTtcblx0ZWxlbWVudCA9IGhpZ2hsaWdodGVyLmdldEVsZW1lbnQoKTtcbn1cblxuZnVuY3Rpb24gaG9va0NhbnZhc1RvRWxlbWVudCgpe1xuXHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGF0dGFjaENhbnZhc1RvRWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIHVuaG9va0NhbnZhc0Zyb21FbGVtZW50KCl7XG5cdGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgYXR0YWNoQ2FudmFzVG9FbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gaG9va0VsZW1lbnRUb0NhbnZhcygpe1xuXHRjYW52YXNDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgYXR0YWNoRWxlbWVudFRvQ2FudmFzKTtcbn1cblxuZnVuY3Rpb24gdW5ob29rRWxlbWVudEZyb21DYW52YXMoKXtcblx0Y2FudmFzQ29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGF0dGFjaEVsZW1lbnRUb0NhbnZhcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcblx0aW5pdFZhcmlhYmxlczogaW5pdFZhcmlhYmxlcyxcblx0aG9va0NhbnZhc1RvRWxlbWVudDogaG9va0NhbnZhc1RvRWxlbWVudCxcblx0dW5ob29rQ2FudmFzRnJvbUVsZW1lbnQ6IHVuaG9va0NhbnZhc0Zyb21FbGVtZW50LFxuXHRob29rRWxlbWVudFRvQ2FudmFzOiBob29rRWxlbWVudFRvQ2FudmFzLFxuXHR1bmhvb2tFbGVtZW50RnJvbUNhbnZhczogdW5ob29rRWxlbWVudEZyb21DYW52YXNcbn0iXX0=
